<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SM VIP SIGNALS | Premium Trading Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- New Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600&family=Orbitron:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* Font Assignments */
        :root {
            --font-heading: 'Montserrat', sans-serif;
            --font-body: 'Inter', sans-serif;
            --font-tech: 'Orbitron', sans-serif;
        }

        body {
            font-family: var(--font-body);
            background: #ffffff;
            color: #333333;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
            font-size: 16px; /* Base font size */
        }

        h1, h2, h3, h4, h5, h6, .heading-font {
            font-family: var(--font-heading);
        }

        .tech-font {
            font-family: var(--font-tech);
        }

        /* Improved Responsive Font Sizes */
        h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            line-height: 1.2;
        }
        
        h2 {
            font-size: clamp(1.75rem, 4vw, 2.75rem);
            line-height: 1.3;
        }
        
        h3 {
            font-size: clamp(1.5rem, 3.5vw, 2.25rem);
            line-height: 1.4;
        }
        
        h4 {
            font-size: clamp(1.25rem, 3vw, 1.75rem);
            line-height: 1.4;
        }
        
        p, .text-base {
            font-size: clamp(0.95rem, 2.5vw, 1.1rem);
            line-height: 1.6;
        }
        
        .text-sm {
            font-size: clamp(0.85rem, 2vw, 0.95rem);
            line-height: 1.5;
        }
        
        .text-xs {
            font-size: clamp(0.75rem, 1.8vw, 0.85rem);
            line-height: 1.4;
        }

        /* Red Text */
        .red-text {
            color: #e3342f;
            font-weight: 700;
        }

        /* Modern Navigation Bar - IMPROVED */
        .modern-nav {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(229, 231, 235, 0.8);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
            min-height: 70px;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            flex-shrink: 0;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #e3342f, #f56565);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .logo-text {
            font-family: var(--font-heading);
            font-weight: 800;
            font-size: clamp(1.1rem, 2.5vw, 1.5rem);
            background: linear-gradient(135deg, #e3342f, #8b0000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            white-space: nowrap;
        }

        .nav-center {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .nav-link {
            font-family: var(--font-body);
            font-weight: 500;
            color: #4b5563;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
            white-space: nowrap;
            font-size: 0.95rem;
        }

        .nav-link:hover {
            color: #e3342f;
            background: rgba(227, 52, 47, 0.05);
        }

        .nav-link.active {
            color: #e3342f;
            font-weight: 600;
            background: rgba(227, 52, 47, 0.1);
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 1rem;
            right: 1rem;
            height: 3px;
            background: #e3342f;
            border-radius: 3px;
        }

        /* NAVIGATION ICONS - PROPER SIZING */
        .nav-link i, 
        .mobile-nav-link i,
        .btn-modern i,
        .btn-modern-outline i,
        .dropdown-item i,
        .notification-badge i {
            font-size: 0.9rem;
            width: 16px;
            text-align: center;
        }

        .nav-link i {
            margin-right: 6px;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-shrink: 0;
        }

        /* Modern Button */
        .btn-modern {
            background: linear-gradient(135deg, #e3342f, #c53030);
            color: white;
            font-weight: 600;
            padding: 0.6rem 1.5rem;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(227, 52, 47, 0.2);
            font-size: clamp(0.85rem, 2vw, 0.95rem);
            white-space: nowrap;
        }

        .btn-modern:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(227, 52, 47, 0.3);
        }

        .btn-modern-outline {
            background: transparent;
            color: #e3342f;
            border: 2px solid #e3342f;
            font-weight: 600;
            padding: 0.6rem 1.5rem;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: clamp(0.85rem, 2vw, 0.95rem);
            white-space: nowrap;
        }

        .btn-modern-outline:hover {
            background: rgba(227, 52, 47, 0.1);
        }

        /* Notification Badge */
        .notification-badge {
            position: relative;
            cursor: pointer;
        }

        .badge-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #e3342f;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* Profile Dropdown */
        .profile-dropdown-modern {
            position: relative;
        }

        .profile-toggle {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .profile-toggle:hover {
            background: rgba(229, 231, 235, 0.5);
        }

        .profile-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #e3342f, #f56565);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .profile-info {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .profile-name {
            font-weight: 600;
            color: #1f2937;
            font-size: clamp(0.85rem, 2vw, 0.95rem);
            white-space: nowrap;
        }

        .vip-badge {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #7c2d12;
            padding: 0.2rem 0.6rem;
            border-radius: 20px;
            font-size: clamp(0.7rem, 1.8vw, 0.8rem);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            white-space: nowrap;
        }

        /* Dropdown Menu */
        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            width: 280px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .dropdown-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            background: linear-gradient(135deg, #fef2f2, #fff5f5);
            border-radius: 12px 12px 0 0;
        }

        .dropdown-body {
            padding: 1rem;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            color: #4b5563;
            text-decoration: none;
            transition: all 0.2s ease;
            cursor: pointer;
            background: none;
            border: none;
            width: 100%;
            text-align: left;
            font-size: 0.9rem;
        }

        .dropdown-item:hover {
            background: #f9fafb;
            color: #e3342f;
        }

        .dropdown-item i {
            width: 20px;
            text-align: center;
        }

        .dropdown-footer {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
        }

        /* Mobile Menu Button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: #4b5563;
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .mobile-menu-btn:hover {
            background: rgba(229, 231, 235, 0.5);
        }

        /* Mobile Navigation */
        .mobile-nav {
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            background: white;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transform: translateY(-100%);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
            max-height: calc(100vh - 70px);
            overflow-y: auto;
        }

        .mobile-nav.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .mobile-nav-link {
            padding: 1rem;
            border-radius: 8px;
            color: #4b5563;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 1rem;
        }

        .mobile-nav-link:hover,
        .mobile-nav-link.active {
            background: #fef2f2;
            color: #e3342f;
        }

        .mobile-nav-actions {
            padding-top: 1.5rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .mobile-profile-dropdown {
            background: #f9fafb;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        .mobile-profile-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .mobile-profile-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        /* Notification Dropdown */
        .notification-dropdown {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            width: 380px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .notification-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .notification-header {
            padding: 1.25rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notification-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .notification-item {
            padding: 1rem 1.25rem;
            border-bottom: 1px solid #f3f4f6;
            transition: background 0.2s ease;
            cursor: pointer;
        }

        .notification-item:hover {
            background: #f9fafb;
        }

        .notification-item.unread {
            background: #fef2f2;
        }

        .notification-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.75rem;
        }

        /* Offer Notification Styles */
        .notification-item.offer {
            border-left: 4px solid #f59e0b;
        }

        .notification-item.signal {
            border-left: 4px solid #10b981;
        }

        .notification-item.urgent {
            border-left: 4px solid #ef4444;
        }

        .offer-badge {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: #7c2d12;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: auto;
        }

        /* Main Website Content */
        #main-website {
            margin-top: 70px;
            transition: opacity 0.3s ease;
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            inset: 0;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .progress-bar {
            width: min(300px, 90%);
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e3342f, #f56565);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 3px;
        }

        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #e3342f;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Phone Confirmation Modal - Full Screen */
        .phone-confirm-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f172a, #1e293b);
            animation: fadeIn 0.3s ease;
        }

        .phone-confirm-content {
            background: white;
            margin: 0;
            width: 100%;
            height: 100%;
            border-radius: 0;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .phone-confirm-header {
            background: linear-gradient(135deg, #e3342f, #c53030);
            padding: 1.5rem;
            text-align: center;
            position: relative;
        }

        .phone-confirm-header h3 {
            color: white;
            font-size: clamp(1.3rem, 4vw, 1.5rem);
            font-weight: 700;
            margin: 0;
        }

        .close-confirm-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .close-confirm-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .phone-confirm-body {
            flex: 1;
            padding: clamp(1rem, 4vw, 2rem);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }

        .phone-confirm-icon {
            width: clamp(80px, 20vw, 100px);
            height: clamp(80px, 20vw, 100px);
            background: linear-gradient(135deg, #e3342f, #f56565);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: clamp(2rem, 6vw, 3rem);
            margin-bottom: clamp(1rem, 4vw, 2rem);
            box-shadow: 0 10px 30px rgba(227, 52, 47, 0.3);
        }

        .phone-confirm-title {
            font-size: clamp(1.5rem, 4vw, 1.8rem);
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-align: center;
            color: #1f2937;
        }

        .phone-confirm-subtitle {
            color: #6b7280;
            text-align: center;
            margin-bottom: clamp(1rem, 4vw, 2rem);
            max-width: min(400px, 90%);
            font-size: clamp(0.9rem, 3vw, 1rem);
        }

        .phone-number-display {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: clamp(1rem, 3vw, 1.5rem);
            margin-bottom: clamp(1rem, 4vw, 2rem);
            text-align: center;
            width: 100%;
            max-width: min(400px, 90%);
        }

        .phone-number {
            font-size: clamp(1.3rem, 4vw, 1.8rem);
            font-weight: 700;
            color: #1f2937;
            font-family: var(--font-tech);
            letter-spacing: 1px;
        }

        .phone-label {
            color: #6b7280;
            font-size: clamp(0.8rem, 2.5vw, 0.9rem);
            margin-top: 0.5rem;
        }

        .otp-input-container {
            width: 100%;
            max-width: min(400px, 90%);
            margin-bottom: clamp(1rem, 4vw, 2rem);
        }

        .otp-input-label {
            display: block;
            margin-bottom: 0.5rem;
            color: #374151;
            font-weight: 500;
            text-align: center;
            font-size: clamp(0.9rem, 3vw, 1rem);
        }

        .otp-inputs {
            display: flex;
            justify-content: center;
            gap: clamp(5px, 2vw, 10px);
            margin-bottom: 1rem;
        }

        .otp-input {
            width: clamp(40px, 12vw, 50px);
            height: clamp(50px, 15vw, 60px);
            border: 2px solid #d1d5db;
            border-radius: 10px;
            text-align: center;
            font-size: clamp(1.3rem, 4vw, 1.8rem);
            font-weight: 700;
            font-family: var(--font-tech);
            background: #f9fafb;
            transition: all 0.3s ease;
            touch-action: manipulation;
            -webkit-appearance: none;
        }

        .otp-input:focus {
            outline: none;
            border-color: #e3342f;
            background: white;
            box-shadow: 0 0 0 3px rgba(227, 52, 47, 0.1);
        }

        .otp-input.filled {
            border-color: #10b981;
            background: #f0fdf4;
        }

        .otp-timer {
            text-align: center;
            color: #6b7280;
            font-size: clamp(0.8rem, 2.5vw, 0.9rem);
            margin-bottom: 1.5rem;
        }

        .otp-timer span {
            color: #e3342f;
            font-weight: 600;
        }

        .resend-otp {
            text-align: center;
            margin-bottom: clamp(1rem, 4vw, 2rem);
        }

        .resend-btn {
            background: none;
            border: none;
            color: #3b82f6;
            cursor: pointer;
            font-weight: 500;
            font-size: clamp(0.85rem, 2.5vw, 0.95rem);
            transition: color 0.2s ease;
        }

        .resend-btn:hover {
            color: #1d4ed8;
            text-decoration: underline;
        }

        .resend-btn.disabled {
            color: #9ca3af;
            cursor: not-allowed;
        }

        .phone-confirm-footer {
            padding: 1.5rem;
            background: #f9fafb;
            border-top: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
        }

        .confirm-btn {
            background: linear-gradient(135deg, #e3342f, #c53030);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: clamp(0.95rem, 3vw, 1rem);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .confirm-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(227, 52, 47, 0.3);
        }

        .confirm-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .back-btn {
            background: #f3f4f6;
            color: #4b5563;
            border: none;
            padding: 1rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: clamp(0.95rem, 3vw, 1rem);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #e5e7eb;
        }

        /* Login Modal - IMPROVED FOR MOBILE */
        .modal {
            display: none;
            position: fixed;
            z-index: 1002;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 0;
            border-radius: 16px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            animation: slideUp 0.4s ease;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #e3342f, #c53030);
            padding: clamp(1.25rem, 4vw, 1.75rem);
            text-align: center;
            flex-shrink: 0;
        }

        .modal-header h3 {
            color: white;
            font-size: clamp(1.3rem, 4vw, 1.5rem);
            font-weight: 700;
            margin: 0;
        }

        .modal-body {
            padding: clamp(1.25rem, 4vw, 2rem);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            flex: 1;
        }

        .form-group {
            margin-bottom: clamp(1rem, 3vw, 1.5rem);
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: #374151;
            font-weight: 500;
            font-size: clamp(0.85rem, 2.5vw, 0.9rem);
        }

        .form-input {
            width: 100%;
            padding: clamp(0.75rem, 2.5vw, 0.875rem) 1rem;
            border: 1.5px solid #d1d5db;
            border-radius: 10px;
            font-size: clamp(0.95rem, 3vw, 1rem);
            transition: all 0.3s ease;
            background: #f9fafb;
            box-sizing: border-box;
            -webkit-appearance: none;
        }

        .form-input:focus {
            outline: none;
            border-color: #e3342f;
            background: white;
            box-shadow: 0 0 0 3px rgba(227, 52, 47, 0.1);
        }

        .modal-footer {
            display: flex;
            gap: 1rem;
            margin-top: clamp(1rem, 4vw, 2rem);
            flex-shrink: 0;
        }

        .modal-footer .btn-modern {
            flex: 1;
            justify-content: center;
            padding: clamp(0.75rem, 2.5vw, 0.875rem);
            font-size: clamp(0.95rem, 3vw, 1rem);
        }

        .modal-footer .btn-modern-outline {
            flex: 1;
            justify-content: center;
            padding: clamp(0.75rem, 2.5vw, 0.875rem);
            font-size: clamp(0.95rem, 3vw, 1rem);
        }

        .modal-links {
            text-align: center;
            margin-top: clamp(1rem, 3vw, 1.5rem);
            padding-top: clamp(1rem, 3vw, 1.5rem);
            border-top: 1px solid #e5e7eb;
            flex-shrink: 0;
        }

        .modal-links a {
            color: #6b7280;
            text-decoration: none;
            font-size: clamp(0.8rem, 2.5vw, 0.875rem);
            transition: color 0.2s ease;
        }

        .modal-links a:hover {
            color: #e3342f;
        }

        .modal-links .admin-link {
            color: #3b82f6;
            font-weight: 500;
        }

        .modal-links .admin-link:hover {
            color: #1d4ed8;
        }

        /* Register Modal */
        .register-tab, .login-tab {
            padding: clamp(0.75rem, 2.5vw, 1rem);
            background: none;
            border: none;
            font-weight: 600;
            color: #6b7280;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            flex: 1;
            font-size: clamp(0.95rem, 3vw, 1rem);
        }

        .register-tab.active, .login-tab.active {
            color: #e3342f;
            border-bottom-color: #e3342f;
        }

        .modal-tabs {
            display: flex;
            justify-content: center;
            border-bottom: 1px solid #e5e7eb;
            background: #f9fafb;
        }

        /* MOBILE SPECIFIC FIXES */
        @media (max-width: 768px) {
            body.modal-open {
                overflow: hidden;
                position: fixed;
                width: 100%;
                height: 100%;
            }
            
            .modal {
                padding: 0;
                margin: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                background: rgba(0,0,0,0.8);
            }
            
            .modal-content {
                margin: 0;
                width: 100%;
                height: 100%;
                max-width: 100%;
                max-height: 100%;
                border-radius: 0;
                animation: mobileSlideUp 0.3s ease;
                position: relative;
            }
            
            @keyframes mobileSlideUp {
                from {
                    transform: translateY(100%);
                    opacity: 0;
                }
                to {
                    transform: translateY(0);
                    opacity: 1;
                }
            }
            
            .modal-header {
                padding: 1.5rem;
                position: relative;
            }
            
            .modal-header h3 {
                font-size: 1.3rem;
            }
            
            .modal-body {
                padding: 1.5rem;
                padding-bottom: 100px; /* Extra space for keyboard */
            }
            
            .form-input {
                font-size: 16px; /* Prevents iOS zoom */
                padding: 1rem;
            }
            
            .modal-footer {
                flex-direction: column;
                gap: 0.75rem;
                margin-top: 1.5rem;
            }
            
            .modal-footer .btn-modern,
            .modal-footer .btn-modern-outline {
                padding: 1rem;
                font-size: 1.1rem;
            }
            
            .otp-input {
                width: 45px;
                height: 55px;
                font-size: 1.5rem;
            }
            
            /* Fix for iPhone notch/safe areas */
            @supports (padding: max(0px)) {
                .modal-body {
                    padding-left: max(1.5rem, env(safe-area-inset-left));
                    padding-right: max(1.5rem, env(safe-area-inset-right));
                    padding-bottom: max(100px, env(safe-area-inset-bottom) + 80px);
                }
                
                .modal-footer {
                    padding-bottom: env(safe-area-inset-bottom);
                }
            }
        }

        /* Small Mobile Devices */
        @media (max-width: 480px) {
            .otp-inputs {
                gap: 8px;
            }
            
            .otp-input {
                width: 40px;
                height: 50px;
                font-size: 1.3rem;
            }
            
            .modal-body {
                padding: 1.25rem;
            }
            
            .phone-confirm-body {
                padding: 1.5rem;
            }
            
            .phone-number-display {
                padding: 1rem;
            }
            
            .phone-number {
                font-size: 1.5rem;
            }
            
            .nav-container {
                padding: 0 0.75rem;
            }
            
            .nav-right {
                gap: 0.75rem;
            }
            
            .btn-modern, .btn-modern-outline {
                padding: 0.5rem 1rem;
            }
            
            .notification-dropdown {
                width: 320px;
                right: -10px;
            }
        }

        /* Landscape Mode Fixes */
        @media (max-height: 600px) and (orientation: landscape) {
            .modal-content {
                max-height: 100vh;
            }
            
            .modal-body {
                max-height: 60vh;
            }
            
            .modal-footer {
                margin-top: 1rem;
            }
        }

        /* WhatsApp Field - UPDATED FOR 10 DIGITS WITHOUT SPACES */
        .whatsapp-field {
            position: relative;
        }

        .whatsapp-field .form-input {
            padding-left: 4rem; /* For country code */
        }

        .whatsapp-prefix {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-weight: 500;
            font-size: clamp(0.95rem, 3vw, 1rem);
        }

        /* Results Locked */
        .results-locked {
            position: relative;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #fafafa, #f0f0f0);
            border-radius: 12px;
            border: 2px dashed #e5e7eb;
        }

        .locked-overlay {
            position: absolute;
            inset: 0;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: clamp(1.5rem, 4vw, 3rem);
            border-radius: 12px;
        }

        .lock-icon {
            font-size: clamp(2rem, 6vw, 3rem);
            color: #e3342f;
            margin-bottom: 1rem;
        }

        /* Logout Button */
        .logout-btn {
            background: #f3f4f6;
            color: #6b7280;
            border: 1.5px solid #d1d5db;
            padding: 0.875rem 1.5rem;
            border-radius: 10px;
            font-weight: 500;
            transition: all 0.3s;
            cursor: pointer;
            width: 100%;
            text-align: center;
            font-size: 0.9rem;
        }

        .logout-btn:hover {
            background: #ef4444;
            color: white;
            border-color: #dc2626;
        }

        /* Simple Card */
        .simple-card {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .simple-card:hover {
            border-color: #d1d5db;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .btn-simple {
            background: linear-gradient(135deg, #e3342f, #c53030);
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            padding: clamp(0.75rem, 2.5vw, 0.75rem) clamp(1rem, 3vw, 1.5rem);
            border-radius: 10px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            text-decoration: none;
            cursor: pointer;
            font-size: clamp(0.85rem, 2.5vw, 0.9rem);
        }

        .btn-simple:hover {
            background: linear-gradient(135deg, #c53030, #a51c1c);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(227, 52, 47, 0.2);
        }

        /* Section Background */
        .section-bg {
            background: linear-gradient(135deg, #f9fafb, #f3f4f6);
            border-top: 1px solid #e5e7eb;
            border-bottom: 1px solid #e5e7eb;
        }

        /* Stats Counter Style */
        .stat-number {
            font-family: var(--font-tech);
            font-weight: 700;
            color: #e3342f;
        }

        /* Footer Style */
        .footer-simple {
            background: linear-gradient(135deg, #111827, #1f2937);
            color: #f9fafb;
            border-top: 2px solid #e3342f;
        }

        /* Dark Red Text */
        .dark-red-text {
            color: #8b0000;
            font-weight: 800;
        }

        /* VIP Timer Badge */
        .vip-timer {
            background: linear-gradient(135deg, #e3342f, #ff6b6b);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: clamp(0.7rem, 2vw, 0.75rem);
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* WhatsApp Float Button */
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: clamp(50px, 10vw, 60px);
            height: clamp(50px, 10vw, 60px);
            background: #25D366;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(24px, 5vw, 28px);
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(37, 211, 102, 0.6);
        }

        /* Fade In Animation */
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hidden {
            display: none !important;
        }

        .red-accent {
            border-left: 3px solid #e3342f;
        }

        /* Signal Results Table */
        .results-table {
            width: 100%;
            border-collapse: collapse;
        }

        .results-table th {
            background: #f3f4f6;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #e5e7eb;
        }

        .results-table td {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .profit-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .profit-positive {
            background: #d1fae5;
            color: #065f46;
        }

        .profit-negative {
            background: #fee2e2;
            color: #991b1b;
        }
        
        /* RESPONSIVE NAVIGATION IMPROVEMENTS */
        @media (max-width: 1200px) {
            .nav-center {
                gap: 1rem;
            }
            
            .nav-link {
                padding: 0.5rem 0.75rem;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 1024px) {
            .nav-center {
                display: none;
            }
            
            .nav-right .profile-dropdown-modern:not(.mobile-profile),
            .nav-right .notification-badge:not(.mobile-notification) {
                display: none;
            }
            
            .mobile-menu-btn {
                display: flex;
            }
            
            .nav-container {
                padding: 0 1rem;
            }
        }
        
        @media (max-width: 900px) {
            .logo-text {
                font-size: 1.2rem;
            }
            
            .logo-icon {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }
        }
        
        @media (min-width: 1025px) {
            .mobile-nav {
                display: none;
            }
        }
        
        @media (max-width: 640px) {
            .nav-content {
                height: 60px;
                min-height: 60px;
            }
            
            .modern-nav {
                padding: 0;
            }
            
            .mobile-nav {
                top: 60px;
                max-height: calc(100vh - 60px);
            }
            
            #main-website {
                margin-top: 60px;
            }
            
            .logo-text {
                font-size: 1.1rem;
            }
            
            .logo-icon {
                width: 32px;
                height: 32px;
            }
            
            .nav-right {
                gap: 0.5rem;
            }
        }
        
        @media (max-width: 380px) {
            .logo-text {
                display: none;
            }
            
            .nav-logo {
                gap: 8px;
            }
            
            .logo-icon {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
            }
        }
        
        /* OFFERS SECTION STYLES */
        .offers-section {
            background: linear-gradient(135deg, #fef2f2, #fff5f5);
            border-top: 1px solid #fee2e2;
            border-bottom: 1px solid #fee2e2;
        }

        .offer-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 30px rgba(227, 52, 47, 0.15);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }

        .offer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(227, 52, 47, 0.25);
            border-color: #e3342f;
        }

        .offer-card.featured {
            border: 2px solid #f59e0b;
        }

        .offer-header {
            background: linear-gradient(135deg, #e3342f, #c53030);
            padding: 1.5rem;
            color: white;
            position: relative;
        }

        .offer-badge {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: #7c2d12;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            position: absolute;
            top: -10px;
            right: 20px;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }

        .offer-timer {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 12px;
            margin-top: 0.5rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-tech);
        }

        .timer-numbers {
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: 2px;
        }

        .offer-body {
            padding: 2rem;
        }

        .offer-price {
            font-size: 2.5rem;
            font-weight: 800;
            color: #e3342f;
            margin-bottom: 0.5rem;
        }

        .offer-price span {
            font-size: 1rem;
            color: #6b7280;
        }

        .offer-features {
            list-style: none;
            padding: 0;
            margin: 1.5rem 0;
        }

        .offer-features li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .offer-features i {
            color: #10b981;
        }

        .claim-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .claim-btn:hover {
            background: linear-gradient(135deg, #059669, #047857);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
        }

        .offer-expired {
            background: #6b7280;
            cursor: not-allowed;
        }

        .offer-expired:hover {
            background: #6b7280;
            transform: none;
            box-shadow: none;
        }

        .offer-countdown {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .countdown-item {
            text-align: center;
            background: white;
            padding: 0.75rem;
            border-radius: 10px;
            min-width: 60px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .countdown-number {
            font-size: 1.5rem;
            font-weight: 800;
            color: #e3342f;
            font-family: var(--font-tech);
        }

        .countdown-label {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }

        /* MASH SOLUTIONS Footer Styles */
        .mash-footer {
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: #f9fafb;
            padding: 3rem 0 1.5rem;
            margin-top: 3rem;
            border-top: 2px solid #3b82f6;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2.5rem;
            margin-bottom: 2.5rem;
        }

        @media (max-width: 992px) {
            .footer-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 576px) {
            .footer-grid {
                grid-template-columns: 1fr;
            }
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 1.5rem;
        }

        .mash-animation {
            position: relative;
            width: 40px;
            height: 40px;
        }

        .mash-icon {
            font-size: 1.8rem;
            color: #3b82f6;
            animation: pulse 2s ease-in-out infinite;
        }

        .mash-sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #60a5fa;
            border-radius: 50%;
            animation: sparkle 2s ease-in-out infinite;
        }

        .mash-sparkle:nth-child(2) {
            top: -5px;
            left: 50%;
            animation-delay: 0.5s;
        }

        .mash-sparkle:nth-child(3) {
            top: 50%;
            right: -5px;
            animation-delay: 1s;
        }

        .mash-sparkle:nth-child(4) {
            bottom: -5px;
            left: 50%;
            animation-delay: 1.5s;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .footer-logo .logo-text {
            font-family: var(--font-heading);
            font-weight: 800;
            font-size: 1.4rem;
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .footer-description {
            color: #cbd5e1;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        .social-links {
            display: flex;
            gap: 12px;
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: #cbd5e1;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: #3b82f6;
            color: white;
            transform: translateY(-3px);
        }

        .footer-heading {
            font-family: var(--font-heading);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.2rem;
            color: white;
            position: relative;
            padding-bottom: 8px;
        }

        .footer-heading::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 30px;
            height: 2px;
            background: #3b82f6;
        }

        .footer-links {
            list-style: none;
            padding: 0;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-link {
            color: #cbd5e1;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .footer-link:hover {
            color: #60a5fa;
            transform: translateX(5px);
        }

        .footer-contact {
            list-style: none;
            padding: 0;
        }

        .footer-contact li {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1rem;
            color: #cbd5e1;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .footer-contact i {
            color: #3b82f6;
            margin-top: 3px;
            min-width: 20px;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #94a3b8;
            font-size: 0.85rem;
        }

        .footer-bottom a {
            color: #60a5fa;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-bottom a:hover {
            color: #93c5fd;
            text-decoration: underline;
        }

        .newsletter-form {
            margin-top: 1rem;
        }

        .newsletter-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            font-size: 0.9rem;
            margin-bottom: 0.75rem;
        }

        .newsletter-input::placeholder {
            color: #94a3b8;
        }

        .newsletter-btn {
            width: 100%;
            padding: 0.75rem;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .newsletter-btn:hover {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            transform: translateY(-2px);
        }

        .services-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 0.5rem;
        }

        .service-tag {
            background: rgba(59, 130, 246, 0.2);
            color: #93c5fd;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        /* Announcements Styles */
        .announcements-section {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-top: 1px solid #bae6fd;
            border-bottom: 1px solid #bae6fd;
        }

        .announcement-card {
            border-left: 4px solid;
            animation: slideIn 0.3s ease;
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .announcement-urgent {
            border-left-color: #ef4444;
            background: #fef2f2;
        }

        .announcement-important {
            border-left-color: #f59e0b;
            background: #fffbeb;
        }

        .announcement-normal {
            border-left-color: #3b82f6;
            background: #eff6ff;
        }

        .announcement-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .badge-urgent {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }

        .badge-important {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }

        .badge-normal {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
        }

        .announcement-date {
            font-size: 0.85rem;
            color: #6b7280;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="text-center">
            <div class="loading-spinner"></div>
            <h2 class="text-3xl font-bold mb-6 heading-font dark-red-text">VIP SIGNALS HUB</h2>
            <p class="text-gray-600 mb-8 max-w-md mx-auto">
                Loading main trading platform... Please wait
            </p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p class="text-gray-400 text-sm mt-4" id="loading-text">Preparing premium signals...</p>
        </div>
    </div>

    <!-- Phone Confirmation Modal -->
    <div id="phoneConfirmModal" class="phone-confirm-modal">
        <div class="phone-confirm-content">
            <div class="phone-confirm-header">
                <h3>PHONE VERIFICATION</h3>
                <button class="close-confirm-btn" id="closeConfirmModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="phone-confirm-body">
                <div class="phone-confirm-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h2 class="phone-confirm-title">Verify Your Phone Number</h2>
                <p class="phone-confirm-subtitle">
                    We've sent a 6-digit verification code to your WhatsApp number. Please enter it below to complete your registration.
                </p>
                
                <div class="phone-number-display">
                    <!-- WhatsApp number changed to single digits -->
                    <div class="phone-number" id="confirmPhoneNumber">+94 77 777 7777</div>
                    <div class="phone-label">WhatsApp Number</div>
                </div>
                
                <div class="otp-input-container">
                    <label class="otp-input-label">Enter 6-digit code</label>
                    <div class="otp-inputs" id="otpInputs">
                        <input type="text" maxlength="1" class="otp-input" data-index="0" inputmode="numeric">
                        <input type="text" maxlength="1" class="otp-input" data-index="1" inputmode="numeric">
                        <input type="text" maxlength="1" class="otp-input" data-index="2" inputmode="numeric">
                        <input type="text" maxlength="1" class="otp-input" data-index="3" inputmode="numeric">
                        <input type="text" maxlength="1" class="otp-input" data-index="4" inputmode="numeric">
                        <input type="text" maxlength="1" class="otp-input" data-index="5" inputmode="numeric">
                    </div>
                    <div class="otp-timer">
                        Code expires in: <span id="otpTimer">05:00</span>
                    </div>
                </div>
                
                <div class="resend-otp">
                    <button class="resend-btn" id="resendOtpBtn" disabled>
                        Resend code in <span id="resendTimer">60</span> seconds
                    </button>
                </div>
            </div>
            <div class="phone-confirm-footer">
                <button class="confirm-btn" id="confirmOtpBtn" disabled>
                    <i class="fas fa-check-circle"></i>
                    VERIFY & CONTINUE
                </button>
                <button class="back-btn" id="backToRegisterBtn">
                    <i class="fas fa-arrow-left"></i>
                    Back to Registration
                </button>
            </div>
        </div>
    </div>

    <!-- Modern Navigation Bar - IMPROVED -->
    <nav class="modern-nav">
        <div class="nav-container">
            <div class="nav-content">
                <!-- Logo -->
                <a href="#home" class="nav-logo">
                    <div class="logo-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="logo-text">SM VIP SIGNALS</div>
                </a>

                <!-- Desktop Navigation Links -->
                <div class="nav-center">
                    <a href="#home" class="nav-link active" data-section="home">
                        <i class="fas fa-home mr-2"></i>
                        Home
                    </a>
                    <a href="#offers" class="nav-link" data-section="offers">
                        <i class="fas fa-gift mr-2"></i>
                        Special Offers
                    </a>
                    <a href="#announcements" class="nav-link" data-section="announcements">
                        <i class="fas fa-bullhorn mr-2"></i>
                        Announcements
                    </a>
                    <a href="#signals" class="nav-link" data-section="signals">
                        <i class="fas fa-signal mr-2"></i>
                        Free Signals
                    </a>
                    <a href="#results" class="nav-link" data-section="results">
                        <i class="fas fa-trophy mr-2"></i>
                        VIP Results
                    </a>
                    <a href="#pricing" class="nav-link" data-section="pricing">
                        <i class="fas fa-crown mr-2"></i>
                        Pricing
                    </a>
                    <a href="#about" class="nav-link" data-section="about">
                        <i class="fas fa-info-circle mr-2"></i>
                        About
                    </a>
                </div>

                <!-- Right Side Actions -->
                <div class="nav-right">
                    <!-- Notification -->
                    <div class="notification-badge" id="notification-container">
                        <button class="btn-modern-outline" id="notification-btn">
                            <i class="fas fa-bell"></i>
                        </button>
                        <span class="badge-count" id="notification-count">0</span>
                        
                        <!-- Notification Dropdown -->
                        <div class="notification-dropdown" id="notification-dropdown">
                            <div class="notification-header">
                                <h4 class="font-bold text-lg">Notifications</h4>
                                <button class="text-sm text-red-600 font-medium" id="mark-all-read">Mark all as read</button>
                            </div>
                            <div class="notification-list" id="notification-list">
                                <!-- Notifications will be populated by JavaScript -->
                            </div>
                            <div class="notification-header">
                                <a href="#offers" class="text-sm text-red-600 font-medium">View all offers</a>
                            </div>
                        </div>
                    </div>

                    <!-- Join VIP Button -->
                    <button class="btn-modern" id="join-vip-btn">
                        <i class="fas fa-lock-open"></i>
                        JOIN VIP
                    </button>

                    <!-- Profile Dropdown -->
                    <div class="profile-dropdown-modern" id="desktop-profile">
                        <div class="profile-toggle" id="profile-toggle">
                            <div class="profile-avatar" id="profile-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="profile-info">
                                <div class="profile-name" id="profile-name">Guest</div>
                                <div class="vip-badge" id="vip-badge">
                                    <i class="fas fa-crown"></i>
                                    <span id="vip-status">Login</span>
                                </div>
                            </div>
                            <i class="fas fa-chevron-down text-gray-500"></i>
                        </div>
                        
                        <div class="dropdown-menu" id="profile-dropdown">
                            <div class="dropdown-header">
                                <div class="profile-avatar" id="dropdown-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <h3 class="font-bold text-lg mt-2" id="dropdown-name">Guest User</h3>
                                <p class="text-gray-600 text-sm" id="dropdown-email">Login to access VIP features</p>
                                <div class="vip-timer mt-2 hidden" id="dropdown-vip-timer">
                                    <i class="fas fa-clock"></i>
                                    <span id="vip-days">0</span> days remaining
                                </div>
                            </div>
                            <div class="dropdown-body">
                                <button class="dropdown-item" id="dropdown-login-btn">
                                    <i class="fas fa-sign-in-alt"></i>
                                    <span>Login</span>
                                </button>
                                <a href="#offers" class="dropdown-item">
                                    <i class="fas fa-gift"></i>
                                    <span>Special Offers</span>
                                </a>
                                <button class="dropdown-item" id="dropdown-renew-vip">
                                    <i class="fas fa-crown"></i>
                                    <span>Renew VIP</span>
                                </button>
                                <button class="dropdown-item">
                                    <i class="fas fa-headset"></i>
                                    <span>Support</span>
                                </button>
                                <button class="dropdown-item">
                                    <i class="fas fa-cog"></i>
                                    <span>Settings</span>
                                </button>
                            </div>
                            <div class="dropdown-footer">
                                <button class="logout-btn hidden" id="dropdown-logout-btn">
                                    <i class="fas fa-sign-out-alt"></i>
                                    Logout
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Mobile Menu Button -->
                    <button class="mobile-menu-btn" id="mobile-menu-toggle">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation Menu -->
        <div class="mobile-nav" id="mobile-nav">
            <div class="mobile-nav-links">
                <a href="#home" class="mobile-nav-link active" data-section="home">
                    <i class="fas fa-home"></i>
                    Home
                </a>
                <a href="#offers" class="mobile-nav-link" data-section="offers">
                    <i class="fas fa-gift"></i>
                    Special Offers
                </a>
                <a href="#announcements" class="mobile-nav-link" data-section="announcements">
                    <i class="fas fa-bullhorn"></i>
                    Announcements
                </a>
                <a href="#signals" class="mobile-nav-link" data-section="signals">
                    <i class="fas fa-signal"></i>
                    Free Signals
                </a>
                <a href="#results" class="mobile-nav-link" data-section="results">
                    <i class="fas fa-trophy"></i>
                    VIP Results
                </a>
                <a href="#pricing" class="mobile-nav-link" data-section="pricing">
                    <i class="fas fa-crown"></i>
                    Pricing
                </a>
                <a href="#about" class="mobile-nav-link" data-section="about">
                    <i class="fas fa-info-circle"></i>
                    About
                </a>
            </div>
            
            <div class="mobile-nav-actions">
                <!-- Mobile Notification -->
                <div class="notification-badge mobile-notification">
                    <button class="btn-modern-outline w-full" id="mobile-notification-btn">
                        <i class="fas fa-bell"></i>
                        Notifications
                        <span class="badge-count">0</span>
                    </button>
                </div>
                
                <!-- Mobile Join VIP Button -->
                <button class="btn-modern w-full" id="mobile-join-vip-btn">
                    <i class="fas fa-lock-open"></i>
                    JOIN VIP NOW
                </button>
                
                <!-- Mobile Profile Section -->
                <div class="mobile-profile-dropdown">
                    <div class="mobile-profile-header">
                        <div class="profile-avatar" id="mobile-profile-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <h4 class="font-bold" id="mobile-profile-name">Guest</h4>
                            <p class="text-gray-600 text-sm" id="mobile-vip-status">Login to continue</p>
                            <div class="vip-timer mt-1 hidden" id="mobile-vip-timer">
                                <i class="fas fa-clock"></i>
                                <span id="mobile-vip-days">0</span> days remaining
                            </div>
                        </div>
                    </div>
                    <div class="mobile-profile-actions">
                        <button class="btn-simple w-full" id="mobile-login-btn">
                            <i class="fas fa-sign-in-alt"></i>
                            Login
                        </button>
                        <a href="#offers" class="btn-modern-outline w-full text-center">
                            <i class="fas fa-gift"></i>
                            View Offers
                        </a>
                        <button class="logout-btn w-full hidden" id="mobile-logout-btn">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ACCOUNT LOGIN</h3>
            </div>
            <div class="modal-body">
                <div class="modal-tabs">
                    <button class="login-tab active" id="loginTabBtn">LOGIN</button>
                    <button class="register-tab" id="registerTabBtn">REGISTER</button>
                </div>
                
                <!-- Login Form -->
                <div id="loginForm" class="pt-4">
                    <div class="space-y-6">
                        <div class="form-group">
                            <label class="form-label">Username</label>
                            <input type="text" id="loginUsername" 
                                   class="form-input"
                                   placeholder="Enter your username">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" id="loginPassword" 
                                   class="form-input"
                                   placeholder="Enter your password">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="loginSubmit" class="btn-modern">
                            <i class="fas fa-sign-in-alt"></i>
                            LOGIN
                        </button>
                        <button id="closeLogin" class="btn-modern-outline">
                            CANCEL
                        </button>
                    </div>
                    <div class="modal-links">
                        <p class="text-gray-500 text-sm mb-2">Don't have an account? <a href="#" class="text-red-600 font-medium" id="switchToRegister">Register Now</a></p>
                        <p class="text-gray-500 text-sm">
                            <a href="admin.html" class="admin-link">Admin Login</a>
                        </p>
                    </div>
                </div>

                <!-- Register Form -->
                <div id="registerForm" class="pt-4 hidden">
                    <div class="space-y-6">
                        <div class="form-group">
                            <label class="form-label">Username</label>
                            <input type="text" id="registerUsername" 
                                   class="form-input"
                                   placeholder="Choose a username">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email Address</label>
                            <input type="email" id="registerEmail" 
                                   class="form-input"
                                   placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" id="registerPassword" 
                                   class="form-input"
                                   placeholder="Password will be auto-generated" 
                                   readonly>
                        </div>
                        <div class="form-group whatsapp-field">
                            <label class="form-label">WhatsApp Number</label>
                            <div class="whatsapp-prefix">+94</div>
                            <!-- UPDATED: Now accepts 10 digits without spaces -->
                            <input type="tel" id="registerWhatsApp" 
                                   class="form-input"
                                   placeholder="771234567"
                                   maxlength="10"
                                   pattern="[0-9]{10}"
                                   title="Please enter a 10-digit WhatsApp number (without spaces)">
                            <p class="text-xs text-gray-500 mt-1">Enter 10-digit number without spaces (eg: 771234567)</p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="registerSubmit" class="btn-modern">
                            <i class="fas fa-user-plus"></i>
                            REGISTER
                        </button>
                        <button id="closeRegister" class="btn-modern-outline">
                            CANCEL
                        </button>
                    </div>
                    <div class="modal-links">
                        <p class="text-gray-500 text-sm mb-2">Already have an account? <a href="#" class="text-red-600 font-medium" id="switchToLogin">Login Here</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- WhatsApp Float Button -->
    <!-- WhatsApp number changed to single digits -->
    <a href="https://wa.me/94777777777" target="_blank" class="whatsapp-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Main Website Content -->
    <div id="main-website" class="hidden">
        <!-- Home Section -->
        <section id="home" class="pt-24 pb-20 px-6 text-center">
            <h2 class="animate__animated animate__fadeInDown text-5xl md:text-7xl font-bold mb-6 heading-font">
                Trade Like <span class="red-text">ELITE</span>
            </h2>
            <p class="animate__animated animate__fadeInUp text-gray-600 text-lg max-w-2xl mx-auto mb-10 font-medium">
                Get accurate Crypto Signals every day. Maximize your profits with our VIP community.
            </p>
            <div class="flex flex-col md:flex-row justify-center gap-6">
                <a href="#offers" class="simple-card px-12 py-5 rounded-xl text-xl font-bold heading-font bg-gradient-to-r from-yellow-400 to-orange-500 text-white">
                    <i class="fas fa-gift mr-3"></i>SPECIAL OFFERS
                </a>
                <a href="#signals" class="btn-simple px-12 py-5 rounded-xl text-xl font-bold heading-font">FREE SIGNALS</a>
                <a href="#pricing" class="simple-card px-12 py-5 rounded-xl text-xl font-bold border-red-300 border hover:border-red-500 transition heading-font red-text">VIP PLANS</a>
            </div>
        </section>

        <!-- Announcements Section -->
        <section id="announcements" class="announcements-section px-6 py-12">
            <div class="max-w-6xl mx-auto">
                <h3 class="text-3xl font-bold mb-6 heading-font">
                    <i class="fas fa-bullhorn mr-3 red-text"></i>Latest Announcements
                </h3>
                <div id="announcements-container" class="space-y-4">
                    <!-- Announcements will be loaded from Firebase -->
                    <div class="text-center text-gray-500 py-8">
                        <i class="fas fa-newspaper text-4xl mb-4"></i>
                        <p>No announcements yet. Check back soon!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Special Offers Section -->
        <section id="offers" class="offers-section px-6 py-16">
            <div class="max-w-6xl mx-auto">
                <h3 class="text-4xl font-bold mb-10 flex items-center gap-3 heading-font text-center">
                    <span class="w-4 h-10 bg-yellow-500 rounded-full"></span> 
                    <span class="text-yellow-600">LIMITED TIME OFFERS</span>
                </h3>
                
                <div id="offers-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Offers will be loaded from Firebase -->
                </div>

                <div class="mt-12 text-center">
                    <p class="text-gray-600 mb-6">Want to receive exclusive offers directly?</p>
                    <button class="btn-modern" id="subscribe-offers-btn">
                        <i class="fas fa-bell"></i>
                        SUBSCRIBE FOR OFFERS
                    </button>
                </div>
            </div>
        </section>

        <!-- Free Signals Section -->
        <section id="signals" class="px-6 py-16 max-w-6xl mx-auto">
            <h3 class="text-4xl font-bold mb-10 flex items-center gap-3 heading-font">
                <span class="w-4 h-10 bg-red-600 rounded-full"></span> 
                <span class="red-text">FREE TRADING SIGNALS</span>
            </h3>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div class="simple-card p-7 animate__animated animate__fadeInLeft">
                    <div class="flex justify-between items-center mb-5">
                        <span class="text-2xl font-bold tech-font">BTC/USDT</span>
                        <span class="bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-bold heading-font">LONG POSITION</span>
                    </div>
                    <div class="grid grid-cols-2 gap-5 text-gray-600">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-gray-500 text-sm">Entry Price</div>
                            <div class="text-gray-900 text-xl font-bold tech-font">$67,200</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-gray-500 text-sm">Leverage</div>
                            <div class="text-gray-900 text-xl font-bold tech-font">20x (Cross)</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg red-accent">
                            <div class="text-gray-500 text-sm">Stop Loss</div>
                            <div class="text-gray-900 text-xl font-bold tech-font">$65,000</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg border-l-3 border-yellow-500">
                            <div class="text-gray-500 text-sm">Take Profit</div>
                            <div class="text-gray-900 text-xl font-bold tech-font">$70,500</div>
                        </div>
                    </div>
                </div>

                <div class="simple-card p-7 animate__animated animate__fadeInRight">
                    <div class="flex justify-between items-center mb-5">
                        <span class="text-2xl font-bold tech-font">ETH/USDT</span>
                        <span class="bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-bold heading-font">SHORT POSITION</span>
                    </div>
                    <div class="grid grid-cols-2 gap-5 text-gray-600">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-gray-500 text-sm">Entry Price</div>
                            <div class="text-gray-900 text-xl font-bold tech-font">$3,250</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-gray-500 text-sm">Leverage</div>
                            <div class="text-gray-900 text-xl font-bold tech-font">15x (Cross)</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg red-accent">
                            <div class="text-gray-500 text-sm">Stop Loss</div>
                            <div class="text-gray-900 text-xl font-bold tech-font">$3,400</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg border-l-3 border-yellow-500">
                            <div class="text-gray-500 text-sm">Take Profit</div>
                            <div class="text-gray-900 text-xl font-bold tech-font">$3,000</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- VIP Results Section -->
        <section id="results" class="section-bg px-6 py-16">
            <div class="max-w-6xl mx-auto">
                <h3 class="text-4xl font-bold mb-10 flex items-center gap-3 heading-font">
                    <span class="w-4 h-10 bg-red-600 rounded-full"></span> 
                    <span class="red-text">VIP MEMBERS RESULTS</span>
                </h3>
                
                <div id="results-content">
                    <!-- This will show locked message or results based on login status -->
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="px-6 py-16">
            <div class="max-w-6xl mx-auto">
                <h3 class="text-4xl font-bold mb-12 text-center heading-font">
                    <span class="red-text">VIP MEMBERSHIP</span> PLANS
                </h3>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="simple-card p-8 text-center">
                        <h4 class="text-2xl font-bold mb-4 text-gray-800 heading-font">BASIC</h4>
                        <div class="text-4xl font-bold mb-6 red-text" id="basic-price">$99<span class="text-lg text-gray-500">/month</span></div>
                        <ul class="space-y-3 text-gray-600 mb-8">
                            <li class="flex items-center justify-center gap-2"> 3 Daily Signals</li>
                            <li class="flex items-center justify-center gap-2"> Basic Support</li>
                            <li class="flex items-center justify-center gap-2"> Weekly Analysis</li>
                        </ul>
                        <button class="btn-simple w-full py-3 rounded-lg">GET STARTED</button>
                    </div>
                    
                    <div class="simple-card p-8 text-center border-2 border-red-300 relative">
                        <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
                            <span class="bg-red-600 text-white px-4 py-1 rounded-full text-sm font-bold">MOST POPULAR</span>
                        </div>
                        <h4 class="text-2xl font-bold mb-4 red-text heading-font">PRO TRADER</h4>
                        <div class="text-4xl font-bold mb-6 red-text" id="pro-price">$299<span class="text-lg text-gray-500">/month</span></div>
                        <ul class="space-y-3 text-gray-600 mb-8">
                            <li class="flex items-center justify-center gap-2"> 8-10 Daily Signals</li>
                            <li class="flex items-center justify-center gap-2"> 24/7 Priority Support</li>
                            <li class="flex items-center justify-center gap-2"> Real-time Alerts</li>
                            <li class="flex items-center justify-center gap-2"> Risk Management</li>
                        </ul>
                        <button class="btn-simple w-full py-3 rounded-lg">JOIN NOW</button>
                    </div>
                    
                    <div class="simple-card p-8 text-center">
                        <h4 class="text-2xl font-bold mb-4 text-gray-800 heading-font">ELITE</h4>
                        <div class="text-4xl font-bold mb-6 red-text" id="elite-price">$599<span class="text-lg text-gray-500">/month</span></div>
                        <ul class="space-y-3 text-gray-600 mb-8">
                            <li class="flex items-center justify-center gap-2"> Unlimited Signals</li>
                            <li class="flex items-center justify-center gap-2"> 1-on-1 Coaching</li>
                            <li class="flex items-center justify-center gap-2"> Portfolio Management</li>
                            <li class="flex items-center justify-center gap-2"> Early Access Signals</li>
                        </ul>
                        <button class="btn-simple w-full py-3 rounded-lg">BECOME ELITE</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section-bg px-6 py-16">
            <div class="max-w-6xl mx-auto">
                <h3 class="text-4xl font-bold mb-10 text-center heading-font">
                    <span class="red-text">ABOUT</span> US
                </h3>
                <div class="simple-card p-8">
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="text-2xl font-bold mb-4 heading-font">Who We Are</h4>
                            <p class="text-gray-600 mb-4">
                                SM VIP SIGNALS is a premium crypto trading signals provider with over 5 years of experience in the cryptocurrency markets.
                            </p>
                            <p class="text-gray-600 mb-4">
                                Our team consists of professional traders and analysts who provide accurate trading signals for Bitcoin, Ethereum, and other major cryptocurrencies.
                            </p>
                        </div>
                        <div>
                            <h4 class="text-2xl font-bold mb-4 heading-font">Our Mission</h4>
                            <p class="text-gray-600 mb-4">
                                To help traders maximize their profits with high-quality, accurate trading signals and comprehensive market analysis.
                            </p>
                            <p class="text-gray-600">
                                We provide real-time signals, risk management strategies, and 24/7 support to our VIP members.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MASH SOLUTIONS Footer -->
        <footer class="mash-footer">
            <div class="footer-container">
                <div class="footer-grid">
                    <div>
                        <div class="footer-logo">
                            <div class="mash-animation">
                                <i class="fas fa-lightbulb mash-icon"></i>
                                <div class="mash-sparkle"></div>
                                <div class="mash-sparkle"></div>
                                <div class="mash-sparkle"></div>
                            </div>
                            <span class="logo-text">MASH SOLUTIONS</span>
                        </div>
                        <p class="footer-description">
                            Your trusted partner for innovative digital solutions. We specialize in web development, 
                            digital marketing, and business automation services to help your business thrive in the digital age.
                        </p>
                        <div class="social-links">
                            <a href="https://www.facebook.com/share/1B2M56GifP/?mibextid=wwXIfrFb" target="_blank" class="social-link">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="https://www.instagram.com/mashsolutions26?igsh=MTJteW43ZDlqYXR0YQ==" target="_blank" class="social-link">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="https://wa.me/94750700961" target="_blank" class="social-link">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                            <a href="https://www.linkedin.com/company/mash-solutions" target="_blank" class="social-link">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="footer-heading">Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="https://mashsolutions.com" class="footer-link">Home</a></li>
                            <li><a href="https://mashsolutions.com/about" class="footer-link">About Us</a></li>
                            <li><a href="https://mashsolutions.com/services" class="footer-link">Services</a></li>
                            <li><a href="https://mashsolutions.com/portfolio" class="footer-link">Portfolio</a></li>
                            <li><a href="https://mashsolutions.com/contact" class="footer-link">Contact Us</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="footer-heading">Our Services</h4>
                        <ul class="footer-links">
                            <li><a href="https://mashsolutions.com/web-development" class="footer-link">Web Development</a></li>
                            <li><a href="https://mashsolutions.com/digital-marketing" class="footer-link">Digital Marketing</a></li>
                            <li><a href="https://mashsolutions.com/ecommerce" class="footer-link">E-commerce Solutions</a></li>
                            <li><a href="https://mashsolutions.com/seo" class="footer-link">SEO Services</a></li>
                            <li><a href="https://mashsolutions.com/social-media" class="footer-link">Social Media Management</a></li>
                        </ul>
                        <div class="services-list">
                            <span class="service-tag">Web Design</span>
                            <span class="service-tag">Branding</span>
                            <span class="service-tag">Hosting</span>
                            <span class="service-tag">Support</span>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="footer-heading">Contact Info</h4>
                        <ul class="footer-contact">
                            <li><i class="fas fa-map-marker-alt"></i> Digital Hub, Colombo, Sri Lanka</li>
                            <li><i class="fas fa-phone"></i> +94 75 070 0961</li>
                            <li><i class="fas fa-envelope"></i> info@mashsolutions.com</li>
                            <li><i class="fas fa-clock"></i> Mon-Fri: 9:00 AM - 6:00 PM</li>
                        </ul>
                        <div class="newsletter-form">
                            <input type="email" class="newsletter-input" placeholder="Your email address">
                            <button class="newsletter-btn">Subscribe to Updates</button>
                        </div>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2024 MASH SOLUTIONS. All rights reserved. | 
                    <a href="https://mashsolutions.com/privacy">Privacy Policy</a> | 
                    <a href="https://mashsolutions.com/terms">Terms of Service</a> | 
                    <a href="https://mashsolutions.com/sitemap">Sitemap</a></p>
                    <p class="mt-2">Partnered with <strong>SM VIP SIGNALS</strong> for premium trading solutions.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Main Application JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const loadingScreen = document.getElementById('loading-screen');
            const mainWebsite = document.getElementById('main-website');
            const progressFill = document.getElementById('progress-fill');
            const loadingText = document.getElementById('loading-text');
            
            // Phone Confirmation Elements
            const phoneConfirmModal = document.getElementById('phoneConfirmModal');
            const closeConfirmModalBtn = document.getElementById('closeConfirmModal');
            const confirmPhoneNumber = document.getElementById('confirmPhoneNumber');
            const otpInputs = document.querySelectorAll('.otp-input');
            const confirmOtpBtn = document.getElementById('confirmOtpBtn');
            const backToRegisterBtn = document.getElementById('backToRegisterBtn');
            const resendOtpBtn = document.getElementById('resendOtpBtn');
            const otpTimer = document.getElementById('otpTimer');
            const resendTimer = document.getElementById('resendTimer');
            
            // Navigation Elements
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const mobileNav = document.getElementById('mobile-nav');
            const notificationBtn = document.getElementById('notification-btn');
            const notificationDropdown = document.getElementById('notification-dropdown');
            const profileToggle = document.getElementById('profile-toggle');
            const profileDropdown = document.getElementById('profile-dropdown');
            
            // Modal Elements
            const loginModal = document.getElementById('loginModal');
            const loginTabBtn = document.getElementById('loginTabBtn');
            const registerTabBtn = document.getElementById('registerTabBtn');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const switchToRegister = document.getElementById('switchToRegister');
            const switchToLogin = document.getElementById('switchToLogin');
            const closeLoginBtn = document.getElementById('closeLogin');
            const closeRegisterBtn = document.getElementById('closeRegister');
            
            // Login Form Elements
            const loginSubmitBtn = document.getElementById('loginSubmit');
            const loginUsernameInput = document.getElementById('loginUsername');
            const loginPasswordInput = document.getElementById('loginPassword');
            
            // Register Form Elements
            const registerSubmitBtn = document.getElementById('registerSubmit');
            const registerUsernameInput = document.getElementById('registerUsername');
            const registerEmailInput = document.getElementById('registerEmail');
            const registerPasswordInput = document.getElementById('registerPassword');
            const registerWhatsAppInput = document.getElementById('registerWhatsApp');
            
            // Offers Elements
            const offersContainer = document.getElementById('offers-container');
            const subscribeOffersBtn = document.getElementById('subscribe-offers-btn');
            
            // Announcements Elements
            const announcementsContainer = document.getElementById('announcements-container');
            
            // Pricing Elements
            const basicPriceElement = document.getElementById('basic-price');
            const proPriceElement = document.getElementById('pro-price');
            const elitePriceElement = document.getElementById('elite-price');
            
            // Buttons
            const joinVipBtn = document.getElementById('join-vip-btn');
            const mobileJoinVipBtn = document.getElementById('mobile-join-vip-btn');
            const dropdownLoginBtn = document.getElementById('dropdown-login-btn');
            const mobileLoginBtn = document.getElementById('mobile-login-btn');
            const dropdownLogoutBtn = document.getElementById('dropdown-logout-btn');
            const mobileLogoutBtn = document.getElementById('mobile-logout-btn');
            const dropdownRenewVip = document.getElementById('dropdown-renew-vip');
            
            // Results Content
            const resultsContent = document.getElementById('results-content');
            
            // Loading messages
            const loadingMessages = [
                "Preparing premium signals...",
                "Connecting to VIP community...",
                "Loading trading data...",
                "Securing your access...",
                "Entering main trading hub..."
            ];

            // Firebase Database References
            const USERS_DB_REF = 'users';
            const NOTIFICATIONS_DB_REF = 'notifications';
            const OFFERS_DB_REF = 'offers';
            const ANNOUNCEMENTS_DB_REF = 'announcements';
            const SUBSCRIPTIONS_DB_REF = 'subscriptions';
            const RESULTS_DB_REF = 'monthly_results';
            const PACKAGE_SETTINGS_DB_REF = 'package_settings';
            
            // Package prices (default values)
            let packagePrices = {
                basic: { price: 99, days: 30 },
                pro: { price: 299, days: 30 },
                elite: { price: 599, days: 30 },
                '3months': { price: 120, days: 90 },
                lifetime: { price: 300, days: 'lifetime' }
            };

            // Test VIP Users (will be replaced with Firebase)
            const TEST_VIP_USERS = {
                'vipuser1': { 
                    password: 'SMVIP@2024#001', 
                    email: 'vipuser1@example.com',
                    // WhatsApp number changed to 10 digits without spaces
                    whatsapp: '+94771234567',
                    isVIP: true,
                    vipExpiry: '2024-12-31',
                    phoneVerified: true
                },
                'vipuser2': { 
                    password: 'SMVIP@2024#002', 
                    email: 'vipuser2@example.com',
                    // WhatsApp number changed to 10 digits without spaces
                    whatsapp: '+94777654321',
                    isVIP: true,
                    vipExpiry: '2024-11-30',
                    phoneVerified: true
                }
            };

            // Monthly Results Data
            const MONTHLY_RESULTS = [
                {
                    month: 'January 2024',
                    totalSignals: 45,
                    winRate: '89%',
                    totalProfit: '+$12,450',
                    bestTrade: 'BTC/USDT +320%',
                    status: 'profit-positive'
                },
                {
                    month: 'December 2023',
                    totalSignals: 42,
                    winRate: '86%',
                    totalProfit: '+$9,800',
                    bestTrade: 'ETH/USDT +280%',
                    status: 'profit-positive'
                },
                {
                    month: 'November 2023',
                    totalSignals: 38,
                    winRate: '84%',
                    totalProfit: '+$7,200',
                    bestTrade: 'SOL/USDT +410%',
                    status: 'profit-positive'
                },
                {
                    month: 'October 2023',
                    totalSignals: 40,
                    winRate: '82%',
                    totalProfit: '+$6,500',
                    bestTrade: 'ADA/USDT +190%',
                    status: 'profit-positive'
                },
                {
                    month: 'September 2023',
                    totalSignals: 35,
                    winRate: '80%',
                    totalProfit: '+$5,200',
                    bestTrade: 'BNB/USDT +180%',
                    status: 'profit-positive'
                }
            ];

            // Application State
            let currentUser = null;
            let notifications = [];
            let offers = [];
            let announcements = [];
            let phoneVerificationData = null;
            let otpCountdown = 300; // 5 minutes in seconds
            let resendCountdown = 60; // 1 minute in seconds
            let otpInterval = null;
            let resendInterval = null;
            let generatedOTP = null;
            let notificationListeners = [];

            // Firebase Functions
            function initializeFirebase() {
                if (!window.firebaseDatabase) {
                    console.log('Firebase not initialized');
                    return false;
                }
                return true;
            }

            // Load Package Settings from Firebase
            async function loadPackageSettings() {
                if (!initializeFirebase()) {
                    updatePricingUI();
                    return;
                }

                try {
                    const settingsRef = window.firebaseRef(window.firebaseDatabase, PACKAGE_SETTINGS_DB_REF);
                    const snapshot = await window.firebaseGet(settingsRef);
                    
                    if (snapshot.exists()) {
                        const data = snapshot.val();
                        packagePrices = {
                            basic: data['1month'] || packagePrices.basic,
                            pro: { price: 299, days: 30 }, // Default PRO price
                            elite: { price: 599, days: 30 }, // Default ELITE price
                            '3months': data['3months'] || packagePrices['3months'],
                            lifetime: data['lifetime'] || packagePrices.lifetime
                        };
                    }
                    
                    updatePricingUI();
                } catch (error) {
                    console.error('Error loading package settings:', error);
                    updatePricingUI();
                }
            }

            // Update pricing UI
            function updatePricingUI() {
                if (basicPriceElement) {
                    basicPriceElement.innerHTML = `$${packagePrices.basic.price}<span class="text-lg text-gray-500">/month</span>`;
                }
                if (proPriceElement) {
                    proPriceElement.innerHTML = `$${packagePrices.pro.price}<span class="text-lg text-gray-500">/month</span>`;
                }
                if (elitePriceElement) {
                    elitePriceElement.innerHTML = `$${packagePrices.elite.price}<span class="text-lg text-gray-500">/month</span>`;
                }
            }

            // Load Announcements from Firebase
            async function loadAnnouncements() {
                if (!initializeFirebase()) {
                    announcements = getDefaultAnnouncements();
                    displayAnnouncements();
                    return;
                }

                try {
                    const announcementsRef = window.firebaseRef(window.firebaseDatabase, ANNOUNCEMENTS_DB_REF);
                    const snapshot = await window.firebaseGet(announcementsRef);
                    
                    if (snapshot.exists()) {
                        const data = snapshot.val();
                        announcements = Object.entries(data)
                            .map(([key, value]) => ({ key, ...value }))
                            .filter(announcement => 
                                announcement.isActive !== false && 
                                (!announcement.expiresAt || new Date(announcement.expiresAt) > new Date())
                            )
                            .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
                    } else {
                        announcements = getDefaultAnnouncements();
                    }
                    
                    displayAnnouncements();
                } catch (error) {
                    console.error('Error loading announcements:', error);
                    announcements = getDefaultAnnouncements();
                    displayAnnouncements();
                }
            }

            // Get Default Announcements (fallback)
            function getDefaultAnnouncements() {
                return [
                    {
                        key: '1',
                        title: 'Welcome to SM VIP SIGNALS',
                        message: 'Welcome to our premium trading community. Start your journey with our free signals and upgrade to VIP for exclusive benefits.',
                        priority: 'normal',
                        timestamp: new Date().toISOString(),
                        postedBy: 'Admin',
                        isActive: true
                    }
                ];
            }

            // Display Announcements
            function displayAnnouncements() {
                if (!announcementsContainer) return;
                
                announcementsContainer.innerHTML = '';
                
                if (announcements.length === 0) {
                    announcementsContainer.innerHTML = `
                        <div class="text-center text-gray-500 py-8">
                            <i class="fas fa-newspaper text-4xl mb-4"></i>
                            <p>No announcements yet. Check back soon!</p>
                        </div>
                    `;
                    return;
                }
                
                announcements.forEach(announcement => {
                    const announcementElement = document.createElement('div');
                    const priorityClass = `announcement-${announcement.priority}`;
                    const badgeClass = `badge-${announcement.priority}`;
                    const badgeText = announcement.priority.charAt(0).toUpperCase() + announcement.priority.slice(1);
                    
                    const date = new Date(announcement.timestamp);
                    const formattedDate = date.toLocaleDateString('en-US', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    
                    announcementElement.className = `announcement-card ${priorityClass}`;
                    announcementElement.innerHTML = `
                        <div class="flex justify-between items-start mb-3">
                            <h4 class="text-lg font-bold text-gray-900">${announcement.title}</h4>
                            <span class="announcement-badge ${badgeClass}">${badgeText}</span>
                        </div>
                        <p class="text-gray-700 mb-3">${announcement.message}</p>
                        <div class="flex justify-between items-center">
                            <span class="announcement-date">
                                <i class="fas fa-clock mr-1"></i>${formattedDate}
                            </span>
                            <span class="text-sm text-gray-600">
                                <i class="fas fa-user mr-1"></i>${announcement.postedBy || 'Admin'}
                            </span>
                        </div>
                    `;
                    
                    announcementsContainer.appendChild(announcementElement);
                });
            }

            // Load Notifications from Firebase
            async function loadNotifications() {
                if (!initializeFirebase()) {
                    // Load default notifications
                    notifications = getDefaultNotifications();
                    initNotifications();
                    return;
                }

                try {
                    const notificationsRef = window.firebaseRef(window.firebaseDatabase, NOTIFICATIONS_DB_REF);
                    const snapshot = await window.firebaseGet(notificationsRef);
                    
                    if (snapshot.exists()) {
                        const data = snapshot.val();
                        notifications = Object.values(data).filter(notification => 
                            notification.isActive && (!notification.expiresAt || new Date(notification.expiresAt) > new Date())
                        );
                        
                        // Sort by created date (newest first)
                        notifications.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                    } else {
                        notifications = getDefaultNotifications();
                    }
                    
                    initNotifications();
                    updateNotificationBadge();
                } catch (error) {
                    console.error('Error loading notifications:', error);
                    notifications = getDefaultNotifications();
                    initNotifications();
                }
            }

            // Load Offers from Firebase
            async function loadOffers() {
                if (!initializeFirebase()) {
                    // Load default offers
                    offers = getDefaultOffers();
                    displayOffers();
                    return;
                }

                try {
                    const offersRef = window.firebaseRef(window.firebaseDatabase, OFFERS_DB_REF);
                    const snapshot = await window.firebaseGet(offersRef);
                    
                    if (snapshot.exists()) {
                        const data = snapshot.val();
                        offers = Object.values(data).filter(offer => 
                            offer.isActive && (!offer.expiresAt || new Date(offer.expiresAt) > new Date())
                        );
                        
                        // Sort by featured first, then by expiry date
                        offers.sort((a, b) => {
                            if (a.featured && !b.featured) return -1;
                            if (!a.featured && b.featured) return 1;
                            if (a.expiresAt && b.expiresAt) {
                                return new Date(a.expiresAt) - new Date(b.expiresAt);
                            }
                            return 0;
                        });
                    } else {
                        offers = getDefaultOffers();
                    }
                    
                    displayOffers();
                } catch (error) {
                    console.error('Error loading offers:', error);
                    offers = getDefaultOffers();
                    displayOffers();
                }
            }

            // Get Default Notifications (fallback)
            function getDefaultNotifications() {
                return [
                    {
                        id: '1',
                        title: 'New VIP Offer Available!',
                        message: 'Get 50% discount on PRO plan for first month',
                        type: 'offer',
                        createdAt: new Date().toISOString(),
                        expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),
                        isActive: true,
                        unread: true,
                        icon: 'fa-gift',
                        iconColor: 'bg-yellow-100 text-yellow-600',
                        link: '#offers'
                    },
                    {
                        id: '2',
                        title: 'New BTC Signal Released',
                        message: 'Bitcoin buy signal with 20x leverage',
                        type: 'signal',
                        createdAt: new Date(Date.now() - 5 * 60 * 1000).toISOString(),
                        expiresAt: null,
                        isActive: true,
                        unread: true,
                        icon: 'fa-chart-line',
                        iconColor: 'bg-green-100 text-green-600',
                        link: '#signals'
                    },
                    {
                        id: '3',
                        title: 'Welcome to SM VIP SIGNALS',
                        message: 'Start your trading journey with our free signals',
                        type: 'info',
                        createdAt: new Date(Date.now() - 10 * 60 * 1000).toISOString(),
                        expiresAt: null,
                        isActive: true,
                        unread: true,
                        icon: 'fa-info-circle',
                        iconColor: 'bg-blue-100 text-blue-600',
                        link: '#home'
                    }
                ];
            }

            // Get Default Offers (fallback)
            function getDefaultOffers() {
                const now = new Date();
                const tomorrow = new Date(now);
                tomorrow.setDate(tomorrow.getDate() + 1);
                const nextWeek = new Date(now);
                nextWeek.setDate(nextWeek.getDate() + 7);

                return [
                    {
                        id: 'offer1',
                        title: 'New Member Special',
                        description: '50% OFF on your first VIP subscription',
                        originalPrice: packagePrices.pro.price,
                        offerPrice: Math.round(packagePrices.pro.price * 0.5 * 100) / 100,
                        currency: '$',
                        features: [
                            '8-10 Daily Signals',
                            '24/7 Priority Support',
                            'Real-time Alerts',
                            'Risk Management',
                            '1 Month VIP Access'
                        ],
                        expiresAt: tomorrow.toISOString(),
                        isActive: true,
                        featured: true,
                        buttonText: 'CLAIM 50% OFF',
                        whatsappMessage: 'Hi, I want to claim the 50% OFF New Member Special offer for VIP subscription.'
                    },
                    {
                        id: 'offer2',
                        title: 'Quarterly Plan Discount',
                        description: 'Save 30% on 3-month PRO plan',
                        originalPrice: packagePrices.pro.price * 3,
                        offerPrice: Math.round(packagePrices.pro.price * 3 * 0.7 * 100) / 100,
                        currency: '$',
                        features: [
                            '3 Months VIP Access',
                            'All PRO features included',
                            'Priority Support',
                            'Monthly Performance Report',
                            'Risk Management Tools'
                        ],
                        expiresAt: nextWeek.toISOString(),
                        isActive: true,
                        featured: false,
                        buttonText: 'GET 30% DISCOUNT',
                        whatsappMessage: 'Hi, I want to claim the 30% discount on Quarterly PRO plan.'
                    },
                    {
                        id: 'offer3',
                        title: 'Referral Bonus',
                        description: 'Get 1 month free for every 3 referrals',
                        originalPrice: packagePrices.pro.price,
                        offerPrice: 0,
                        currency: '$',
                        features: [
                            'Free VIP month for 3 successful referrals',
                            'No limits on referrals',
                            'Instant activation',
                            'Works with all plans',
                            'No expiry on earned months'
                        ],
                        expiresAt: null,
                        isActive: true,
                        featured: false,
                        buttonText: 'LEARN MORE',
                        whatsappMessage: 'Hi, I want to learn more about the referral program.'
                    }
                ];
            }

            // Display Offers
            function displayOffers() {
                if (!offersContainer) return;
                
                offersContainer.innerHTML = '';
                
                if (offers.length === 0) {
                    offersContainer.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <div class="text-gray-400 text-6xl mb-4">
                                <i class="fas fa-gift"></i>
                            </div>
                            <h4 class="text-xl font-bold text-gray-600 mb-2">No Active Offers</h4>
                            <p class="text-gray-500">Check back later for special promotions!</p>
                        </div>
                    `;
                    return;
                }
                
                offers.forEach(offer => {
                    const offerElement = document.createElement('div');
                    offerElement.className = `offer-card ${offer.featured ? 'featured' : ''}`;
                    
                    // Calculate time remaining
                    let timeRemaining = '';
                    let countdownHtml = '';
                    
                    if (offer.expiresAt) {
                        const expires = new Date(offer.expiresAt);
                        const now = new Date();
                        const diff = expires - now;
                        
                        if (diff > 0) {
                            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                            
                            timeRemaining = `Expires in: ${days}d ${hours}h ${minutes}m`;
                            
                            countdownHtml = `
                                <div class="offer-timer">
                                    <i class="fas fa-clock"></i>
                                    <div class="timer-numbers">
                                        ${days.toString().padStart(2, '0')}:${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}
                                    </div>
                                </div>
                            `;
                        } else {
                            timeRemaining = 'Offer Expired';
                        }
                    }
                    
                    const isExpired = offer.expiresAt && new Date(offer.expiresAt) < new Date();
                    
                    offerElement.innerHTML = `
                        ${offer.featured ? '<div class="offer-badge">FEATURED</div>' : ''}
                        <div class="offer-header">
                            <h4 class="text-xl font-bold">${offer.title}</h4>
                            <p class="text-sm opacity-90 mt-1">${offer.description}</p>
                            ${countdownHtml}
                        </div>
                        <div class="offer-body">
                            <div class="offer-price">
                                ${offer.offerPrice === 0 ? 'FREE' : `${offer.currency}${offer.offerPrice}`}
                                ${offer.originalPrice > offer.offerPrice ? 
                                    `<span class="text-sm line-through text-gray-500 ml-2">${offer.currency}${offer.originalPrice}</span>` : 
                                    ''}
                            </div>
                            
                            <ul class="offer-features">
                                ${offer.features.map(feature => `
                                    <li><i class="fas fa-check-circle"></i> ${feature}</li>
                                `).join('')}
                            </ul>
                            
                            <button class="claim-btn ${isExpired ? 'offer-expired' : ''}" 
                                    data-offer-id="${offer.id}"
                                    ${isExpired ? 'disabled' : ''}>
                                <i class="fas fa-${isExpired ? 'clock' : 'gift'}"></i>
                                ${isExpired ? 'OFFER EXPIRED' : offer.buttonText}
                            </button>
                            
                            ${timeRemaining ? `<p class="text-center text-sm text-gray-500 mt-3">${timeRemaining}</p>` : ''}
                        </div>
                    `;
                    
                    offersContainer.appendChild(offerElement);
                    
                    // Add click event to claim button
                    const claimBtn = offerElement.querySelector('.claim-btn');
                    if (claimBtn && !isExpired) {
                        claimBtn.addEventListener('click', () => claimOffer(offer));
                    }
                });
            }

            // Claim Offer Function
            function claimOffer(offer) {
                if (!currentUser) {
                    showToast('Please login to claim this offer', 'warning');
                    openLoginModal('login');
                    return;
                }
                
                const whatsappNumber = currentUser.whatsapp || '94777777777';
                const encodedMessage = encodeURIComponent(offer.whatsappMessage);
                const whatsappUrl = `https://wa.me/${whatsappNumber.replace('+', '')}?text=${encodedMessage}`;
                
                // Open WhatsApp
                window.open(whatsappUrl, '_blank');
                
                // Show success message
                showToast(`Offer claimed! Opening WhatsApp to complete your request.`, 'success');
                
                // Track offer claim in Firebase
                if (initializeFirebase()) {
                    const claimData = {
                        userId: currentUser.username,
                        offerId: offer.id,
                        claimedAt: new Date().toISOString(),
                        userWhatsApp: currentUser.whatsapp,
                        offerTitle: offer.title
                    };
                    
                    const claimRef = window.firebaseRef(window.firebaseDatabase, `offer_claims/${offer.id}_${currentUser.username}_${Date.now()}`);
                    window.firebaseSet(claimRef, claimData).catch(error => {
                        console.error('Error tracking offer claim:', error);
                    });
                }
            }

            // Initialize Notifications
            function initNotifications() {
                const notificationList = document.getElementById('notification-list');
                if (!notificationList) return;
                
                notificationList.innerHTML = '';
                
                if (notifications.length === 0) {
                    notificationList.innerHTML = `
                        <div class="text-center py-8">
                            <i class="fas fa-bell-slash text-gray-300 text-3xl mb-3"></i>
                            <p class="text-gray-500">No notifications yet</p>
                        </div>
                    `;
                    return;
                }
                
                notifications.forEach(notification => {
                    const notificationItem = document.createElement('div');
                    notificationItem.className = `notification-item ${notification.type} ${notification.unread ? 'unread' : ''}`;
                    
                    // Determine icon based on type
                    let icon = 'fa-bell';
                    let iconColor = 'bg-gray-100 text-gray-600';
                    
                    if (notification.type === 'offer') {
                        icon = 'fa-gift';
                        iconColor = 'bg-yellow-100 text-yellow-600';
                    } else if (notification.type === 'signal') {
                        icon = 'fa-chart-line';
                        iconColor = 'bg-green-100 text-green-600';
                    } else if (notification.type === 'urgent') {
                        icon = 'fa-exclamation-triangle';
                        iconColor = 'bg-red-100 text-red-600';
                    }
                    
                    notificationItem.innerHTML = `
                        <div class="flex items-start gap-3">
                            <div class="notification-icon ${iconColor}">
                                <i class="fas ${notification.icon || icon}"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium text-gray-800">${notification.title}</p>
                                <p class="text-sm text-gray-600 mt-1">${notification.message}</p>
                                <p class="text-xs text-gray-500 mt-2">${formatTimeAgo(new Date(notification.createdAt))}</p>
                            </div>
                            ${notification.unread ? '<div class="w-2 h-2 bg-red-500 rounded-full mt-2"></div>' : ''}
                            ${notification.type === 'offer' ? '<span class="offer-badge">OFFER</span>' : ''}
                        </div>
                    `;
                    
                    // Add click event
                    notificationItem.addEventListener('click', () => {
                        notification.unread = false;
                        updateNotificationBadge();
                        
                        if (notification.link) {
                            window.location.hash = notification.link;
                        }
                        
                        notificationDropdown.classList.remove('active');
                    });
                    
                    notificationList.appendChild(notificationItem);
                });
            }

            // Format time ago
            function formatTimeAgo(date) {
                const now = new Date();
                const diffMs = now - date;
                const diffMins = Math.floor(diffMs / 60000);
                const diffHours = Math.floor(diffMs / 3600000);
                const diffDays = Math.floor(diffMs / 86400000);
                
                if (diffMins < 1) return 'Just now';
                if (diffMins < 60) return `${diffMins} minute${diffMins > 1 ? 's' : ''} ago`;
                if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;
                if (diffDays < 7) return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;
                
                return date.toLocaleDateString();
            }

            // Update Notification Badge
            function updateNotificationBadge() {
                const unreadCount = notifications.filter(n => n.unread).length;
                document.getElementById('notification-count').textContent = unreadCount;
                document.querySelectorAll('.badge-count').forEach(badge => {
                    badge.textContent = unreadCount;
                });
            }

            // Generate strong password
            function generateStrongPassword() {
                const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
                const lowercase = 'abcdefghijklmnopqrstuvwxyz';
                const numbers = '0123456789';
                const symbols = '!@#$%^&*()_+-=[]{}|;:,.<>?';
                
                let password = '';
                
                // Ensure at least one character from each category
                password += uppercase.charAt(Math.floor(Math.random() * uppercase.length));
                password += lowercase.charAt(Math.floor(Math.random() * lowercase.length));
                password += numbers.charAt(Math.floor(Math.random() * numbers.length));
                password += symbols.charAt(Math.floor(Math.random() * symbols.length));
                
                // Fill the rest with random characters
                const allChars = uppercase + lowercase + numbers + symbols;
                for (let i = 0; i < 8; i++) {
                    password += allChars.charAt(Math.floor(Math.random() * allChars.length));
                }
                
                // Shuffle the password
                password = password.split('').sort(() => Math.random() - 0.5).join('');
                
                return password;
            }

            // Check if user is logged in
            function checkLoginStatus() {
                const userData = localStorage.getItem('current_user');
                if (userData) {
                    currentUser = JSON.parse(userData);
                    updateUIForLoggedInUser();
                    loadResultsContent();
                } else {
                    loadResultsContent();
                }
            }

            // Login Function
            function login(username, password) {
                // First check test users
                if (TEST_VIP_USERS[username] && TEST_VIP_USERS[username].password === password) {
                    currentUser = {
                        username: username,
                        ...TEST_VIP_USERS[username]
                    };
                    
                    // Save to localStorage
                    localStorage.setItem('current_user', JSON.stringify(currentUser));
                    
                    // Update UI
                    updateUIForLoggedInUser();
                    loadResultsContent();
                    
                    // Close modal
                    closeLoginModal();
                    
                    // Show success message
                    showToast(`Welcome back, ${username}!`, 'success');
                    
                    return true;
                }
                
                // Try Firebase
                try {
                    if (window.firebaseDatabase) {
                        const userRef = window.firebaseRef(window.firebaseDatabase, `${USERS_DB_REF}/${username}`);
                        window.firebaseGet(userRef).then((snapshot) => {
                            if (snapshot.exists()) {
                                const userData = snapshot.val();
                                if (userData.password === password) {
                                    currentUser = {
                                        username: username,
                                        ...userData
                                    };
                                    
                                    localStorage.setItem('current_user', JSON.stringify(currentUser));
                                    updateUIForLoggedInUser();
                                    loadResultsContent();
                                    closeLoginModal();
                                    showToast(`Welcome back, ${username}!`, 'success');
                                    return true;
                                }
                            }
                            showToast('Invalid username or password', 'error');
                            return false;
                        }).catch((error) => {
                            console.error('Firebase login error:', error);
                            showToast('Invalid username or password', 'error');
                            return false;
                        });
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    showToast('Invalid username or password', 'error');
                    return false;
                }
                
                return false;
            }

            // Register Function - UPDATED FOR AUTO-GENERATED PASSWORD
            function register(username, email, whatsapp) {
                // Validate inputs
                if (!username || !email || !whatsapp) {
                    showToast('Please fill all fields', 'error');
                    return false;
                }
                
                // Validate WhatsApp number (10 digits without spaces)
                const cleanedWhatsApp = whatsapp.replace(/\D/g, '');
                if (cleanedWhatsApp.length !== 10) {
                    showToast('Please enter a valid 10-digit WhatsApp number', 'error');
                    return false;
                }
                
                // Format WhatsApp number
                const formattedWhatsApp = '+94' + cleanedWhatsApp;
                
                // Generate strong password
                const generatedPassword = generateStrongPassword();
                
                // Check if user already exists in test users
                if (TEST_VIP_USERS[username]) {
                    showToast('Username already exists', 'error');
                    return false;
                }
                
                // Store registration data for phone verification
                phoneVerificationData = {
                    username: username,
                    email: email,
                    password: generatedPassword,
                    whatsapp: formattedWhatsApp,
                    isVIP: false,
                    registeredDate: new Date().toISOString().split('T')[0],
                    phoneVerified: false
                };
                
                // Show phone confirmation modal
                openPhoneConfirmationModal(formattedWhatsApp);
                
                return true;
            }

            // Open Phone Confirmation Modal
            function openPhoneConfirmationModal(phoneNumber) {
                // Update phone number display
                confirmPhoneNumber.textContent = formatPhoneNumber(phoneNumber);
                
                // Reset OTP inputs
                otpInputs.forEach(input => {
                    input.value = '';
                    input.classList.remove('filled');
                });
                
                // Disable confirm button
                confirmOtpBtn.disabled = true;
                
                // Reset timers
                otpCountdown = 300;
                resendCountdown = 60;
                updateOTPTimer();
                updateResendTimer();
                
                // Generate OTP
                generatedOTP = generateOTP();
                console.log('Generated OTP:', generatedOTP); // For testing only
                
                // Start timers
                startOTPTimer();
                startResendTimer();
                
                // Show modal
                phoneConfirmModal.style.display = 'block';
                document.body.classList.add('modal-open');
                
                // Close other modals
                closeLoginModal();
                
                // Focus first OTP input
                setTimeout(() => {
                    otpInputs[0].focus();
                }, 100);
            }

            // Close Phone Confirmation Modal
            function closePhoneConfirmationModal() {
                phoneConfirmModal.style.display = 'none';
                document.body.classList.remove('modal-open');
                
                // Clear intervals
                if (otpInterval) clearInterval(otpInterval);
                if (resendInterval) clearInterval(resendInterval);
                
                // Reset verification data
                phoneVerificationData = null;
                generatedOTP = null;
            }

            // Generate 6-digit OTP
            function generateOTP() {
                return Math.floor(100000 + Math.random() * 900000).toString();
            }

            // Format phone number for display
            function formatPhoneNumber(phone) {
                // Format: +94 77 777 7777 (for 10-digit number: +94 77 123 4567)
                const cleaned = phone.replace(/\D/g, '');
                if (cleaned.length === 12) { // +94 77 123 4567
                    const match = cleaned.match(/^(\d{2})(\d{2})(\d{3})(\d{4})$/);
                    if (match) {
                        return `+${match[1]} ${match[2]} ${match[3]} ${match[4]}`;
                    }
                }
                return phone;
            }

            // Start OTP countdown timer
            function startOTPTimer() {
                if (otpInterval) clearInterval(otpInterval);
                
                otpInterval = setInterval(() => {
                    otpCountdown--;
                    updateOTPTimer();
                    
                    if (otpCountdown <= 0) {
                        clearInterval(otpInterval);
                        showToast('OTP has expired. Please request a new code.', 'error');
                        confirmOtpBtn.disabled = true;
                    }
                }, 1000);
            }

            // Start resend countdown timer
            function startResendTimer() {
                if (resendInterval) clearInterval(resendInterval);
                
                resendOtpBtn.disabled = true;
                resendOtpBtn.classList.add('disabled');
                
                resendInterval = setInterval(() => {
                    resendCountdown--;
                    updateResendTimer();
                    
                    if (resendCountdown <= 0) {
                        clearInterval(resendInterval);
                        resendOtpBtn.disabled = false;
                        resendOtpBtn.classList.remove('disabled');
                        resendOtpBtn.innerHTML = 'Resend code';
                    }
                }, 1000);
            }

            // Update OTP timer display
            function updateOTPTimer() {
                const minutes = Math.floor(otpCountdown / 60);
                const seconds = otpCountdown % 60;
                otpTimer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            // Update resend timer display
            function updateResendTimer() {
                resendTimer.textContent = resendCountdown;
            }

            // Verify OTP
            function verifyOTP(enteredOTP) {
                if (!generatedOTP || !phoneVerificationData) {
                    showToast('Verification session expired. Please register again.', 'error');
                    return false;
                }
                
                if (enteredOTP === generatedOTP) {
                    // OTP verified successfully
                    
                    // Create user account
                    const newUser = {
                        ...phoneVerificationData,
                        phoneVerified: true,
                        verificationDate: new Date().toISOString()
                    };
                    
                    // Save to localStorage (temporary)
                    currentUser = newUser;
                    localStorage.setItem('current_user', JSON.stringify(currentUser));
                    
                    // Try to save to Firebase
                    try {
                        if (window.firebaseDatabase) {
                            const userRef = window.firebaseRef(window.firebaseDatabase, `${USERS_DB_REF}/${newUser.username}`);
                            window.firebaseSet(userRef, newUser).then(() => {
                                // Send password via WhatsApp
                                sendPasswordWhatsApp(newUser.whatsapp, newUser.username, newUser.password);
                                
                                showToast('Registration successful! Your phone is verified.', 'success');
                                showToast('Password has been sent to your WhatsApp.', 'info');
                                
                                updateUIForLoggedInUser();
                                loadResultsContent();
                                closePhoneConfirmationModal();
                                
                                // Send welcome message via WhatsApp
                                sendWelcomeWhatsApp(newUser.whatsapp, newUser.username);
                                
                                return true;
                            }).catch((error) => {
                                console.error('Firebase registration error:', error);
                                
                                // Send password via WhatsApp even if Firebase fails
                                sendPasswordWhatsApp(newUser.whatsapp, newUser.username, newUser.password);
                                
                                showToast('Registration successful (offline mode)', 'success');
                                showToast('Password has been sent to your WhatsApp.', 'info');
                                
                                updateUIForLoggedInUser();
                                loadResultsContent();
                                closePhoneConfirmationModal();
                                return true;
                            });
                        } else {
                            // Send password via WhatsApp
                            sendPasswordWhatsApp(newUser.whatsapp, newUser.username, newUser.password);
                            
                            showToast('Registration successful! Your phone is verified.', 'success');
                            showToast('Password has been sent to your WhatsApp.', 'info');
                            
                            updateUIForLoggedInUser();
                            loadResultsContent();
                            closePhoneConfirmationModal();
                            
                            // Send welcome message via WhatsApp
                            sendWelcomeWhatsApp(newUser.whatsapp, newUser.username);
                            
                            return true;
                        }
                    } catch (error) {
                        console.error('Registration error:', error);
                        
                        // Send password via WhatsApp
                        sendPasswordWhatsApp(newUser.whatsapp, newUser.username, newUser.password);
                        
                        showToast('Registration successful (offline mode)', 'success');
                        showToast('Password has been sent to your WhatsApp.', 'info');
                        
                        updateUIForLoggedInUser();
                        loadResultsContent();
                        closePhoneConfirmationModal();
                        return true;
                    }
                } else {
                    showToast('Invalid verification code. Please try again.', 'error');
                    return false;
                }
            }

            // Send password via WhatsApp
            function sendPasswordWhatsApp(phoneNumber, username, password) {
                const message = ` Registration Successful!\n\nYour SM VIP SIGNALS account has been created.\n\n Account Details:\nUsername: ${username}\nPassword: ${password}\n\n Please save this password securely!\n\nDo not share this password with anyone.\n\n Login: smvipsignals.com\n\nBest regards,\nSM VIP SIGNALS Team`;
                const encodedMessage = encodeURIComponent(message);
                const whatsappUrl = `https://wa.me/${phoneNumber.replace('+', '')}?text=${encodedMessage}`;
                
                // Open WhatsApp in new tab to send password
                setTimeout(() => {
                    window.open(whatsappUrl, '_blank');
                }, 1000);
            }

            // Send welcome WhatsApp message
            function sendWelcomeWhatsApp(phoneNumber, username) {
                const message = `Welcome ${username} to SM VIP SIGNALS! \n\nYour account has been successfully verified.\n\nStart your trading journey with us!\n\nVisit: smvipsignals.com\n\nBest regards,\nSM VIP SIGNALS Team`;
                const encodedMessage = encodeURIComponent(message);
                const whatsappUrl = `https://wa.me/${phoneNumber.replace('+', '')}?text=${encodedMessage}`;
                
                // Open WhatsApp in new tab (simulated)
                setTimeout(() => {
                    window.open(whatsappUrl, '_blank');
                }, 3000); // Delay to ensure password message is sent first
            }

            // Resend OTP
            function resendOTP() {
                if (resendCountdown > 0) return;
                
                // Generate new OTP
                generatedOTP = generateOTP();
                console.log('New OTP:', generatedOTP); // For testing only
                
                // Reset timers
                otpCountdown = 300;
                resendCountdown = 60;
                updateOTPTimer();
                updateResendTimer();
                
                // Start timers
                startOTPTimer();
                startResendTimer();
                
                // Show success message
                showToast('New verification code sent to your WhatsApp.', 'success');
                
                // Simulate sending to WhatsApp
                const message = `Your SM VIP SIGNALS verification code is: ${generatedOTP}\n\nThis code expires in 5 minutes.`;
                console.log(`WhatsApp message to ${phoneVerificationData.whatsapp}: ${message}`);
            }

            // Logout Function
            function logout() {
                currentUser = null;
                localStorage.removeItem('current_user');
                updateUIForLoggedOutUser();
                loadResultsContent();
                showToast('Logged out successfully!', 'info');
            }

            // Update UI for logged in user
            function updateUIForLoggedInUser() {
                if (!currentUser) return;
                
                // Update profile info
                document.getElementById('profile-name').textContent = currentUser.username;
                document.getElementById('dropdown-name').textContent = currentUser.username;
                document.getElementById('dropdown-email').textContent = currentUser.email;
                document.getElementById('vip-status').textContent = currentUser.isVIP ? 'VIP Member' : 'Free Member';
                document.getElementById('mobile-profile-name').textContent = currentUser.username;
                document.getElementById('mobile-vip-status').textContent = currentUser.isVIP ? 'VIP Member' : 'Free Member';
                
                // Update avatar with first letter
                const firstLetter = currentUser.username.charAt(0).toUpperCase();
                document.getElementById('profile-avatar').innerHTML = firstLetter;
                document.getElementById('dropdown-avatar').innerHTML = firstLetter;
                document.getElementById('mobile-profile-avatar').innerHTML = firstLetter;
                
                // Show VIP timer if VIP
                if (currentUser.isVIP && currentUser.vipExpiry) {
                    const daysRemaining = calculateDaysRemaining(currentUser.vipExpiry);
                    document.getElementById('dropdown-vip-timer').classList.remove('hidden');
                    document.getElementById('vip-days').textContent = daysRemaining;
                    document.getElementById('mobile-vip-timer').classList.remove('hidden');
                    document.getElementById('mobile-vip-days').textContent = daysRemaining;
                } else {
                    document.getElementById('dropdown-vip-timer').classList.add('hidden');
                    document.getElementById('mobile-vip-timer').classList.add('hidden');
                }
                
                // Show logout buttons
                document.getElementById('dropdown-logout-btn').classList.remove('hidden');
                document.getElementById('mobile-logout-btn').classList.remove('hidden');
                
                // Hide login buttons
                document.getElementById('dropdown-login-btn').style.display = 'none';
                document.getElementById('mobile-login-btn').classList.add('hidden');
                
                // Update VIP badge
                const vipBadge = document.getElementById('vip-badge');
                if (currentUser.isVIP) {
                    vipBadge.innerHTML = `<i class="fas fa-crown"></i><span>VIP Member</span>`;
                } else {
                    vipBadge.innerHTML = `<i class="fas fa-user"></i><span>Free Member</span>`;
                }
            }

            // Calculate days remaining
            function calculateDaysRemaining(expiryDate) {
                const now = new Date();
                const expiry = new Date(expiryDate);
                const diffTime = expiry - now;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                return diffDays > 0 ? diffDays : 0;
            }

            // Update UI for logged out user
            function updateUIForLoggedOutUser() {
                // Reset profile info
                document.getElementById('profile-name').textContent = 'Guest';
                document.getElementById('dropdown-name').textContent = 'Guest User';
                document.getElementById('dropdown-email').textContent = 'Login to access VIP features';
                document.getElementById('vip-status').textContent = 'Login';
                document.getElementById('mobile-profile-name').textContent = 'Guest';
                document.getElementById('mobile-vip-status').textContent = 'Login to continue';
                
                // Reset avatar
                document.getElementById('profile-avatar').innerHTML = '<i class="fas fa-user"></i>';
                document.getElementById('dropdown-avatar').innerHTML = '<i class="fas fa-user"></i>';
                document.getElementById('mobile-profile-avatar').innerHTML = '<i class="fas fa-user"></i>';
                
                // Hide VIP timer
                document.getElementById('dropdown-vip-timer').classList.add('hidden');
                document.getElementById('mobile-vip-timer').classList.add('hidden');
                
                // Show login buttons
                document.getElementById('dropdown-login-btn').style.display = 'flex';
                document.getElementById('mobile-login-btn').classList.remove('hidden');
                
                // Hide logout buttons
                document.getElementById('dropdown-logout-btn').classList.add('hidden');
                document.getElementById('mobile-logout-btn').classList.add('hidden');
            }

            // Load Results Content
            function loadResultsContent() {
                if (!currentUser) {
                    // Show locked results for non-logged in users
                    resultsContent.innerHTML = `
                        <div class="results-locked">
                            <div class="locked-overlay">
                                <div class="lock-icon">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3 class="text-2xl font-bold mb-3 heading-font">VIP Results Locked</h3>
                                <p class="text-gray-600 mb-6 max-w-md">
                                    You need to login or register to view our monthly VIP trading results and performance statistics.
                                </p>
                                <div class="flex gap-3">
                                    <button class="btn-simple" id="results-login-btn">
                                        <i class="fas fa-sign-in-alt"></i>
                                        Login to View
                                    </button>
                                    <button class="btn-modern-outline" id="results-register-btn">
                                        <i class="fas fa-user-plus"></i>
                                        Register Free
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    // Add event listeners to buttons
                    setTimeout(() => {
                        document.getElementById('results-login-btn')?.addEventListener('click', () => {
                            openLoginModal('login');
                        });
                        
                        document.getElementById('results-register-btn')?.addEventListener('click', () => {
                            openLoginModal('register');
                        });
                    }, 100);
                    
                } else if (!currentUser.isVIP) {
                    // Show locked results for free users
                    resultsContent.innerHTML = `
                        <div class="results-locked">
                            <div class="locked-overlay">
                                <div class="lock-icon">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <h3 class="text-2xl font-bold mb-3 heading-font">VIP Results Restricted</h3>
                                <p class="text-gray-600 mb-6 max-w-md">
                                    You need to upgrade to VIP membership to view our monthly trading results and performance statistics.
                                </p>
                                <div class="flex gap-3">
                                    <a href="#pricing" class="btn-simple">
                                        <i class="fas fa-crown"></i>
                                        Upgrade to VIP
                                    </a>
                                </div>
                            </div>
                        </div>
                    `;
                    
                } else {
                    // Show results for VIP users
                    resultsContent.innerHTML = `
                        <div class="simple-card p-8">
                            <div class="flex justify-between items-center mb-6">
                                <h4 class="text-xl font-bold heading-font">Monthly Performance Results</h4>
                                <div class="vip-timer">
                                    <i class="fas fa-crown"></i>
                                    <span>VIP ACCESS</span>
                                </div>
                            </div>
                            
                            <div class="overflow-x-auto">
                                <table class="results-table">
                                    <thead>
                                        <tr>
                                            <th>Month</th>
                                            <th>Total Signals</th>
                                            <th>Win Rate</th>
                                            <th>Total Profit</th>
                                            <th>Best Trade</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${MONTHLY_RESULTS.map(result => `
                                            <tr>
                                                <td class="font-medium">${result.month}</td>
                                                <td>${result.totalSignals}</td>
                                                <td><span class="profit-positive profit-badge">${result.winRate}</span></td>
                                                <td><span class="${result.status} profit-badge">${result.totalProfit}</span></td>
                                                <td class="font-medium">${result.bestTrade}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="mt-8 p-4 bg-green-50 border border-green-200 rounded-lg">
                                <div class="flex items-center">
                                    <i class="fas fa-chart-line text-green-600 mr-3"></i>
                                    <div>
                                        <p class="font-medium text-green-800">Average Monthly Performance</p>
                                        <p class="text-sm text-green-600">85% Win Rate | +$8,230 Average Profit</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }
            }

            // Show Toast Message
            function showToast(message, type = 'info') {
                // Create toast element
                const toast = document.createElement('div');
                toast.className = `fixed top-24 right-6 z-50 px-6 py-3 rounded-lg shadow-lg text-white font-medium animate__animated animate__fadeInRight ${                            type === 'success' ? 'bg-green-500' : 
                            type === 'error' ? 'bg-red-500' : 
                            type === 'warning' ? 'bg-yellow-500' : 'bg-blue-500'
                        }`;
                toast.textContent = message;
                
                document.body.appendChild(toast);
                
                // Remove toast after 3 seconds
                setTimeout(() => {
                    toast.classList.add('animate__fadeOutRight');
                    setTimeout(() => {
                        document.body.removeChild(toast);
                    }, 300);
                }, 3000);
            }

            // Loading Screen Functionality
            function startLoading() {
                let progress = 0;
                let messageIndex = 0;
                
                const interval = setInterval(() => {
                    progress += 2;
                    progressFill.style.width = `${progress}%`;
                    
                    if (progress % 20 === 0 && messageIndex < loadingMessages.length) {
                        loadingText.textContent = loadingMessages[messageIndex];
                        messageIndex++;
                    }
                    
                    if (progress >= 100) {
                        clearInterval(interval);
                        
                        // Fade out loading screen
                        loadingScreen.style.opacity = '0';
                        
                        setTimeout(() => {
                            loadingScreen.style.display = 'none';
                            mainWebsite.classList.remove('hidden');
                            
                            // Initialize app
                            loadPackageSettings();
                            loadAnnouncements();
                            loadNotifications();
                            loadOffers();
                            checkLoginStatus();
                            updateNotificationBadge();
                            
                            // Scroll to top
                            window.scrollTo(0, 0);
                            
                            console.log('App loaded successfully');
                        }, 500);
                    }
                }, 50);
            }

            // Modal Functions
            function openLoginModal(tab = 'login') {
                loginModal.style.display = 'flex';
                document.body.classList.add('modal-open');
                // Close other dropdowns
                profileDropdown.classList.remove('active');
                notificationDropdown.classList.remove('active');
                mobileNav.classList.remove('active');
                mobileMenuToggle.querySelector('i').className = 'fas fa-bars';
                closePhoneConfirmationModal();
                
                // Set active tab
                if (tab === 'login') {
                    loginTabBtn.classList.add('active');
                    registerTabBtn.classList.remove('active');
                    loginForm.classList.remove('hidden');
                    registerForm.classList.add('hidden');
                } else {
                    registerTabBtn.classList.add('active');
                    loginTabBtn.classList.remove('active');
                    registerForm.classList.remove('hidden');
                    loginForm.classList.add('hidden');
                    
                    // Auto-generate password for registration
                    const generatedPassword = generateStrongPassword();
                    registerPasswordInput.value = generatedPassword;
                }
                
                // Clear forms
                loginUsernameInput.value = '';
                loginPasswordInput.value = '';
                registerUsernameInput.value = '';
                registerEmailInput.value = '';
                registerWhatsAppInput.value = '';
                
                // Focus on first input
                if (tab === 'login') {
                    setTimeout(() => {
                        loginUsernameInput.focus();
                    }, 300);
                } else {
                    setTimeout(() => {
                        registerUsernameInput.focus();
                    }, 300);
                }
            }

            function closeLoginModal() {
                loginModal.style.display = 'none';
                document.body.classList.remove('modal-open');
            }

            // OTP Input Handling
            function setupOTPInputs() {
                otpInputs.forEach((input, index) => {
                    input.addEventListener('input', (e) => {
                        const value = e.target.value;
                        
                        // Only allow numbers
                        if (!/^\d*$/.test(value)) {
                            e.target.value = '';
                            return;
                        }
                        
                        // Move to next input if current is filled
                        if (value.length === 1 && index < otpInputs.length - 1) {
                            otpInputs[index + 1].focus();
                        }
                        
                        // Update UI
                        if (value) {
                            e.target.classList.add('filled');
                        } else {
                            e.target.classList.remove('filled');
                        }
                        
                        // Check if all inputs are filled
                        checkOTPCompletion();
                    });
                    
                    input.addEventListener('keydown', (e) => {
                        // Handle backspace
                        if (e.key === 'Backspace' && !e.target.value && index > 0) {
                            otpInputs[index - 1].focus();
                        }
                        
                        // Handle arrow keys
                        if (e.key === 'ArrowLeft' && index > 0) {
                            otpInputs[index - 1].focus();
                        }
                        if (e.key === 'ArrowRight' && index < otpInputs.length - 1) {
                            otpInputs[index + 1].focus();
                        }
                    });
                    
                    input.addEventListener('paste', (e) => {
                        e.preventDefault();
                        const pasteData = e.clipboardData.getData('text').trim();
                        
                        if (/^\d{6}$/.test(pasteData)) {
                            // Paste OTP into all inputs
                            pasteData.split('').forEach((digit, idx) => {
                                if (otpInputs[idx]) {
                                    otpInputs[idx].value = digit;
                                    otpInputs[idx].classList.add('filled');
                                }
                            });
                            
                            // Focus last input
                            otpInputs[5].focus();
                            
                            // Check completion
                            checkOTPCompletion();
                        }
                    });
                });
            }

            // Check OTP completion
            function checkOTPCompletion() {
                const allFilled = Array.from(otpInputs).every(input => input.value.length === 1);
                confirmOtpBtn.disabled = !allFilled;
                
                return allFilled;
            }

            // Get OTP from inputs
            function getOTPFromInputs() {
                return Array.from(otpInputs).map(input => input.value).join('');
            }

            // Mobile Menu Toggle
            mobileMenuToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                mobileNav.classList.toggle('active');
                const icon = this.querySelector('i');
                icon.className = mobileNav.classList.contains('active') ? 'fas fa-times' : 'fas fa-bars';
                
                // Close other dropdowns
                profileDropdown.classList.remove('active');
                notificationDropdown.classList.remove('active');
            });

            // Notification Toggle
            notificationBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                notificationDropdown.classList.toggle('active');
                profileDropdown.classList.remove('active');
            });

            // Profile Dropdown Toggle
            profileToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                profileDropdown.classList.toggle('active');
                notificationDropdown.classList.remove('active');
            });

            // Close dropdowns when clicking outside
            document.addEventListener('click', function(e) {
                if (!notificationBtn.contains(e.target) && !notificationDropdown.contains(e.target)) {
                    notificationDropdown.classList.remove('active');
                }
                
                if (!profileToggle.contains(e.target) && !profileDropdown.contains(e.target)) {
                    profileDropdown.classList.remove('active');
                }
                
                if (!mobileMenuToggle.contains(e.target) && !mobileNav.contains(e.target)) {
                    mobileNav.classList.remove('active');
                    mobileMenuToggle.querySelector('i').className = 'fas fa-bars';
                }
            });

            // Event Listeners
            joinVipBtn.addEventListener('click', () => {
                window.location.href = '#pricing';
                mobileNav.classList.remove('active');
                mobileMenuToggle.querySelector('i').className = 'fas fa-bars';
            });

            mobileJoinVipBtn.addEventListener('click', () => {
                window.location.href = '#pricing';
                mobileNav.classList.remove('active');
                mobileMenuToggle.querySelector('i').className = 'fas fa-bars';
            });

            dropdownLoginBtn.addEventListener('click', () => openLoginModal('login'));
            mobileLoginBtn.addEventListener('click', () => openLoginModal('login'));
            
            dropdownLogoutBtn.addEventListener('click', logout);
            mobileLogoutBtn.addEventListener('click', logout);
            
            dropdownRenewVip.addEventListener('click', () => {
                window.location.href = '#pricing';
                profileDropdown.classList.remove('active');
            });

            // Subscribe for Offers Button
            subscribeOffersBtn.addEventListener('click', function() {
                if (!currentUser) {
                    showToast('Please login to subscribe for offers', 'warning');
                    openLoginModal('login');
                    return;
                }
                
                // Subscribe user for offers
                const userEmail = currentUser.email || currentUser.username + '@example.com';
                
                if (initializeFirebase()) {
                    const subscriptionRef = window.firebaseRef(window.firebaseDatabase, `${SUBSCRIPTIONS_DB_REF}/${currentUser.username}`);
                    const subscriptionData = {
                        email: userEmail,
                        whatsapp: currentUser.whatsapp,
                        subscribedAt: new Date().toISOString(),
                        preferences: {
                            offers: true,
                            signals: true,
                            news: true
                        }
                    };
                    
                    window.firebaseSet(subscriptionRef, subscriptionData)
                        .then(() => {
                            showToast('Successfully subscribed for exclusive offers!', 'success');
                        })
                        .catch(error => {
                            console.error('Error subscribing:', error);
                            showToast('Subscribed for offers!', 'success');
                        });
                } else {
                    showToast('Subscribed for exclusive offers!', 'success');
                }
            });

            // Tab Switching
            loginTabBtn.addEventListener('click', () => {
                loginTabBtn.classList.add('active');
                registerTabBtn.classList.remove('active');
                loginForm.classList.remove('hidden');
                registerForm.classList.add('hidden');
            });

            registerTabBtn.addEventListener('click', () => {
                registerTabBtn.classList.add('active');
                loginTabBtn.classList.remove('active');
                registerForm.classList.remove('hidden');
                loginForm.classList.add('hidden');
                
                // Auto-generate password
                const generatedPassword = generateStrongPassword();
                registerPasswordInput.value = generatedPassword;
            });

            switchToRegister.addEventListener('click', (e) => {
                e.preventDefault();
                registerTabBtn.click();
            });

            switchToLogin.addEventListener('click', (e) => {
                e.preventDefault();
                loginTabBtn.click();
            });

            // Login Form Submission
            loginSubmitBtn.addEventListener('click', function() {
                const username = loginUsernameInput.value.trim();
                const password = loginPasswordInput.value.trim();
                
                if (!username || !password) {
                    showToast('Please enter both username and password', 'error');
                    return;
                }
                
                // Save button state
                const originalText = this.innerHTML;
                this.disabled = true;
                this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Logging in...';
                
                // Simulate API call
                setTimeout(() => {
                    if (login(username, password)) {
                        // Success - handled in login function
                    } else {
                        showToast('Invalid username or password', 'error');
                    }
                    
                    // Restore button state
                    this.disabled = false;
                    this.innerHTML = originalText;
                }, 1000);
            });

            // Register Form Submission - AUTO-GENERATED PASSWORD
            registerSubmitBtn.addEventListener('click', function() {
                const username = registerUsernameInput.value.trim();
                const email = registerEmailInput.value.trim();
                const whatsapp = registerWhatsAppInput.value.trim();
                
                if (!username || !email || !whatsapp) {
                    showToast('Please fill all fields', 'error');
                    return;
                }
                
                // Validate WhatsApp number (10 digits without spaces)
                const cleanedWhatsApp = whatsapp.replace(/\D/g, '');
                if (cleanedWhatsApp.length !== 10) {
                    showToast('Please enter a valid 10-digit WhatsApp number', 'error');
                    return;
                }
                
                // Save button state
                const originalText = this.innerHTML;
                this.disabled = true;
                this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Registering...';
                
                // Simulate API call
                setTimeout(() => {
                    if (register(username, email, whatsapp)) {
                        // Success - opens phone confirmation modal
                    }
                    
                    // Restore button state
                    this.disabled = false;
                    this.innerHTML = originalText;
                }, 1000);
            });

            // Phone Confirmation Event Listeners
            closeConfirmModalBtn.addEventListener('click', closePhoneConfirmationModal);
            
            backToRegisterBtn.addEventListener('click', () => {
                closePhoneConfirmationModal();
                openLoginModal('register');
            });
            
            confirmOtpBtn.addEventListener('click', function() {
                const enteredOTP = getOTPFromInputs();
                
                // Save button state
                const originalText = this.innerHTML;
                this.disabled = true;
                this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Verifying...';
                
                // Simulate API call
                setTimeout(() => {
                    if (verifyOTP(enteredOTP)) {
                        // Success - handled in verifyOTP function
                    }
                    
                    // Restore button state
                    this.disabled = false;
                    this.innerHTML = originalText;
                }, 1000);
            });
            
            resendOtpBtn.addEventListener('click', function() {
                if (!this.disabled) {
                    resendOTP();
                }
            });

            // Allow Enter key in forms
            loginPasswordInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    loginSubmitBtn.click();
                }
            });

            // Close modals with buttons
            closeLoginBtn.addEventListener('click', closeLoginModal);
            closeRegisterBtn.addEventListener('click', closeLoginModal);

            // Close modal when clicking outside
            window.addEventListener('click', (event) => {
                if (event.target === loginModal) {
                    closeLoginModal();
                }
                if (event.target === phoneConfirmModal) {
                    closePhoneConfirmationModal();
                }
            });

            // Mark all notifications as read
            document.getElementById('mark-all-read')?.addEventListener('click', function(e) {
                e.stopPropagation();
                notifications.forEach(notification => {
                    notification.unread = false;
                });
                updateNotificationBadge();
                initNotifications();
                showToast('All notifications marked as read', 'success');
            });

            // Navigation Smooth Scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href === '#' || href === '#!') return;
                    
                    e.preventDefault();
                    
                    const targetId = href.substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        // Update active nav link
                        document.querySelectorAll('.nav-link, .mobile-nav-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        this.classList.add('active');
                        
                        // Smooth scroll to target
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile menu if open
                        mobileNav.classList.remove('active');
                        mobileMenuToggle.querySelector('i').className = 'fas fa-bars';
                    }
                });
            });

            // Update active nav link on scroll
            window.addEventListener('scroll', function() {
                const scrollPosition = window.scrollY;
                const sections = document.querySelectorAll('section[id]');
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionHeight = section.clientHeight;
                    const sectionId = section.getAttribute('id');
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        document.querySelectorAll('.nav-link, .mobile-nav-link').forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === '#' + sectionId) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            });

            // WhatsApp number input - NO FORMATTING, just digits
            registerWhatsAppInput.addEventListener('input', function(e) {
                // Remove all non-digit characters
                let value = this.value.replace(/\D/g, '');
                
                // Limit to 10 digits only
                if (value.length > 10) {
                    value = value.substring(0, 10);
                }
                
                // Set the value back without any formatting
                this.value = value;
            });

            // Setup OTP inputs
            setupOTPInputs();

            // Handle mobile keyboard adjustments
            function handleMobileKeyboard() {
                if (window.innerWidth <= 768) {
                    const inputs = document.querySelectorAll('.form-input, .otp-input');
                    inputs.forEach(input => {
                        input.addEventListener('focus', function() {
                            setTimeout(() => {
                                this.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            }, 300);
                        });
                    });
                }
            }

            // Footer link navigation
            document.querySelectorAll('.footer-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href && href.startsWith('#')) {
                        e.preventDefault();
                        const targetId = href.substring(1);
                        const targetElement = document.getElementById(targetId);
                        
                        if (targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 80,
                                behavior: 'smooth'
                            });
                            
                            // Update active nav link
                            document.querySelectorAll('.nav-link, .mobile-nav-link').forEach(navLink => {
                                navLink.classList.remove('active');
                                if (navLink.getAttribute('href') === href) {
                                    navLink.classList.add('active');
                                }
                            });
                        }
                    }
                });
            });

            // Footer newsletter subscription
            document.querySelector('.newsletter-btn')?.addEventListener('click', function() {
                const emailInput = document.querySelector('.newsletter-input');
                const email = emailInput.value.trim();
                
                if (!email) {
                    showToast('Please enter your email address', 'error');
                    return;
                }
                
                if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    showToast('Please enter a valid email address', 'error');
                    return;
                }
                
                // Save button state
                const originalText = this.innerHTML;
                this.disabled = true;
                this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Subscribing...';
                
                // Simulate API call
                setTimeout(() => {
                    showToast('Successfully subscribed to MASH SOLUTIONS newsletter!', 'success');
                    emailInput.value = '';
                    
                    // Restore button state
                    this.disabled = false;
                    this.innerHTML = originalText;
                }, 1000);
            });

            // Start loading animation
            startLoading();
            handleMobileKeyboard();

            // Setup real-time announcements listener
            function setupRealtimeAnnouncements() {
                if (!initializeFirebase()) return;
                
                const announcementsRef = window.firebaseRef(window.firebaseDatabase, ANNOUNCEMENTS_DB_REF);
                
                window.firebaseOnValue(announcementsRef, (snapshot) => {
                    if (snapshot.exists()) {
                        const data = snapshot.val();
                        const newAnnouncements = Object.entries(data)
                            .map(([key, value]) => ({ key, ...value }))
                            .filter(announcement => 
                                announcement.isActive !== false && 
                                (!announcement.expiresAt || new Date(announcement.expiresAt) > new Date())
                            )
                            .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
                        
                        announcements = newAnnouncements;
                        displayAnnouncements();
                        
                        // Show notification for new announcements
                        if (newAnnouncements.length > 0 && announcements.length > newAnnouncements.length) {
                            showToast('New announcement posted!', 'info');
                        }
                    }
                });
            }

            // Setup real-time notifications listener
            function setupRealtimeNotifications() {
                if (!initializeFirebase()) return;
                
                const notificationsRef = window.firebaseRef(window.firebaseDatabase, NOTIFICATIONS_DB_REF);
                
                window.firebaseOnValue(notificationsRef, (snapshot) => {
                    if (snapshot.exists()) {
                        const data = snapshot.val();
                        const newNotifications = Object.values(data).filter(notification => 
                            notification.isActive && (!notification.expiresAt || new Date(notification.expiresAt) > new Date())
                        );
                        
                        // Sort by created date (newest first)
                        newNotifications.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                        
                        // Check for new notifications
                        const oldIds = notifications.map(n => n.id);
                        const newNotificationsCount = newNotifications.filter(n => !oldIds.includes(n.id)).length;
                        
                        if (newNotificationsCount > 0) {
                            showToast(`You have ${newNotificationsCount} new notification${newNotificationsCount > 1 ? 's' : ''}`, 'info');
                        }
                        
                        notifications = newNotifications;
                        initNotifications();
                        updateNotificationBadge();
                    }
                });
            }

            // Setup real-time offers listener
            function setupRealtimeOffers() {
                if (!initializeFirebase()) return;
                
                const offersRef = window.firebaseRef(window.firebaseDatabase, OFFERS_DB_REF);
                
                window.firebaseOnValue(offersRef, (snapshot) => {
                    if (snapshot.exists()) {
                        const data = snapshot.val();
                        const newOffers = Object.values(data).filter(offer => 
                            offer.isActive && (!offer.expiresAt || new Date(offer.expiresAt) > new Date())
                        );
                        
                        // Sort by featured first, then by expiry date
                        newOffers.sort((a, b) => {
                            if (a.featured && !b.featured) return -1;
                            if (!a.featured && b.featured) return 1;
                            if (a.expiresAt && b.expiresAt) {
                                return new Date(a.expiresAt) - new Date(b.expiresAt);
                            }
                            return 0;
                        });
                        
                        offers = newOffers;
                        displayOffers();
                    }
                });
            }

            // Setup real-time package settings listener
            function setupRealtimePackageSettings() {
                if (!initializeFirebase()) return;
                
                const settingsRef = window.firebaseRef(window.firebaseDatabase, PACKAGE_SETTINGS_DB_REF);
                
                window.firebaseOnValue(settingsRef, (snapshot) => {
                    if (snapshot.exists()) {
                        const data = snapshot.val();
                        packagePrices = {
                            basic: data['1month'] || packagePrices.basic,
                            pro: { price: 299, days: 30 },
                            elite: { price: 599, days: 30 },
                            '3months': data['3months'] || packagePrices['3months'],
                            lifetime: data['lifetime'] || packagePrices.lifetime
                        };
                        
                        updatePricingUI();
                        
                        // Update offers if prices changed
                        if (offers.length > 0) {
                            offers.forEach(offer => {
                                if (offer.originalPrice === packagePrices.pro.price * 3) {
                                    offer.originalPrice = packagePrices.pro.price * 3;
                                    offer.offerPrice = Math.round(packagePrices.pro.price * 3 * 0.7 * 100) / 100;
                                } else if (offer.originalPrice === packagePrices.pro.price) {
                                    offer.originalPrice = packagePrices.pro.price;
                                    offer.offerPrice = Math.round(packagePrices.pro.price * 0.5 * 100) / 100;
                                }
                            });
                            displayOffers();
                        }
                    }
                });
            }

            // Setup real-time listeners after a delay
            setTimeout(() => {
                setupRealtimeAnnouncements();
                setupRealtimeNotifications();
                setupRealtimeOffers();
                setupRealtimePackageSettings();
            }, 2000);

            // Auto-refresh offers countdown every minute
            setInterval(() => {
                if (offers.length > 0) {
                    displayOffers();
                }
            }, 60000);
        });
    </script>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, set, get, update, remove, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyDcFLrmoKuyiFpm48gWrOQRcC8nd6sUWio",
            authDomain: "smvip2-8d131.firebaseapp.com",
            databaseURL: "https://smvip2-8d131-default-rtdb.firebaseio.com",
            projectId: "smvip2-8d131",
            storageBucket: "smvip2-8d131.firebasestorage.app",
            messagingSenderId: "113699989330",
            appId: "1:113699989330:web:5e68b8160362eae509fc8b",
            measurementId: "G-B023JGDMGJ"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        
        window.firebaseDatabase = database;
        window.firebaseRef = ref;
        window.firebaseSet = set;
        window.firebaseGet = get;
        window.firebaseUpdate = update;
        window.firebaseRemove = remove;
        window.firebaseOnValue = onValue;
        
        console.log('Firebase initialized successfully');
    </script>
</body>
</html>